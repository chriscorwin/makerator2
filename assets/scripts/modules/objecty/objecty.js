/* Build 43 */

/**
 * Objecty
 * Copyright (c) 2007 by Charles Wiltgen
 * 
 * Objecty is licensed under the Creative Commons Attribution-No Derivative
 * Works 3.0 License.  You are free to use and share (copy, distribute,
 * display, and perform) Objecty per the terms below.
 * 
 * Summary: http://creativecommons.org/licenses/by-nd/3.0/
 * License: http://creativecommons.org/licenses/by-nd/3.0/legalcode
 * 
 * Objecty uses portions of the Yahoo! UI library
 * Copyright (c) 2007, Yahoo! Inc.  All rights reserved.
 * Code licensed under the BSD License:
 * http://developer.yahoo.net/yui/license.txt
 * 
 * Objecty uses portion of the yui-ext library
 * Copyright (c) 2007, Jack Slocum.  All rights reserved.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
 * FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 * COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
 * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS
 * OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
 * TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE
 * USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

if(typeof YAHOO=="undefined"){ var YAHOO={}; } YAHOO.namespace=function(){ var a=arguments,o=null,i,j,d; for(i=0;i<a.length;i=i+1){ d=a[i].split("."); o=YAHOO; for(j=(d[0]=="YAHOO")?1:0;j<d.length;j=j+1){ o[d[j]]=o[d[j]]||{}; o=o[d[j]]; } } return o; }; YAHOO.log=function(_6,_7,_8){ var l=YAHOO.widget.Logger; if(l&&l.log){ return l.log(_6,_7,_8); }else{ return false; } }; YAHOO.init=function(){ this.namespace("util","widget","example"); if(typeof YAHOO_config!="undefined"){ var l=YAHOO_config.listener,ls=YAHOO.env.listeners,_c=true,i; if(l){ for(i=0;i<ls.length;i=i+1){ if(ls[i]==l){ _c=false; break; } } if(_c){ ls.push(l); } } } }; YAHOO.register=function(_e,_f,_10){ var _11=YAHOO.env.modules; if(!_11[_e]){ _11[_e]={versions:[],builds:[]}; } var m=_11[_e],v=_10.version,b=_10.build,ls=YAHOO.env.listeners; m.name=_e; m.version=v; m.build=b; m.versions.push(v); m.builds.push(b); m.mainClass=_f; for(var i=0;i<ls.length;i=i+1){ ls[i](m); } if(_f){ _f.VERSION=v; _f.BUILD=b; }else{ YAHOO.log("mainClass is undefined for module "+_e,"warn"); } }; YAHOO.env=YAHOO.env||{modules:[],listeners:[],getVersion:function(_17){ return YAHOO.env.modules[_17]||null; }}; YAHOO.lang={isArray:function(obj){ if(obj.constructor&&obj.constructor.toString().indexOf("Array")>-1){ return true; }else{ return YAHOO.lang.isObject(obj)&&obj.constructor==Array; } },isBoolean:function(obj){ return typeof obj=="boolean"; },isFunction:function(obj){ return typeof obj=="function"; },isNull:function(obj){ return obj===null; },isNumber:function(obj){ return typeof obj=="number"&&isFinite(obj); },isObject:function(obj){ return typeof obj=="object"||YAHOO.lang.isFunction(obj); },isString:function(obj){ return typeof obj=="string"; },isUndefined:function(obj){ return typeof obj=="undefined"; },hasOwnProperty:function(obj,_21){ if(Object.prototype.hasOwnProperty){ return obj.hasOwnProperty(_21); } return !YAHOO.lang.isUndefined(obj[_21])&&obj.constructor.prototype[_21]!==obj[_21]; },extend:function(_22,_23,_24){ var F=function(){ }; F.prototype=_23.prototype; _22.prototype=new F(); _22.prototype.constructor=_22; _22.superclass=_23.prototype; if(_23.prototype.constructor==Object.prototype.constructor){ _23.prototype.constructor=_23; } if(_24){ for(var i in _24){ _22.prototype[i]=_24[i]; } } },augment:function(r,s){ var rp=r.prototype,sp=s.prototype,a=arguments,i,p; if(a[2]){ for(i=2;i<a.length;i=i+1){ rp[a[i]]=sp[a[i]]; } }else{ for(p in sp){ if(!rp[p]){ rp[p]=sp[p]; } } } }}; YAHOO.init(); YAHOO.util.Lang=YAHOO.lang; YAHOO.augment=YAHOO.lang.augment; YAHOO.extend=YAHOO.lang.extend; YAHOO.register("yahoo",YAHOO,{version:"2.2.0",build:"127"}); (function(){ var Y=YAHOO.util,_2f,_30,_31=0,_32={}; var ua=navigator.userAgent.toLowerCase(),_34=(ua.indexOf("opera")>-1),_35=(ua.indexOf("safari")>-1),_36=(!_34&&!_35&&ua.indexOf("gecko")>-1),_37=(!_34&&ua.indexOf("msie")>-1); var _38={HYPHEN:/(-[a-z])/i}; var _39=function(_3a){ if(!_38.HYPHEN.test(_3a)){ return _3a; } if(_32[_3a]){ return _32[_3a]; } while(_38.HYPHEN.exec(_3a)){ _3a=_3a.replace(RegExp.$1,RegExp.$1.substr(1).toUpperCase()); } _32[_3a]=_3a; return _3a; }; if(document.defaultView&&document.defaultView.getComputedStyle){ _2f=function(el,_3c){ var _3d=null; var _3e=document.defaultView.getComputedStyle(el,""); if(_3e){ _3d=_3e[_39(_3c)]; } return el.style[_3c]||_3d; }; }else{ if(document.documentElement.currentStyle&&_37){ _2f=function(el,_40){ switch(_39(_40)){ case "opacity": var val=100; try{ val=el.filters["DXImageTransform.Microsoft.Alpha"].opacity; } catch(e){ try{ val=el.filters("alpha").opacity; } catch(e){ } } return val/100; break; default: var _42=el.currentStyle?el.currentStyle[_40]:null; return (el.style[_40]||_42); } }; }else{ _2f=function(el,_44){ return el.style[_44]; }; } } if(_37){ _30=function(el,_46,val){ switch(_46){ case "opacity": if(typeof el.style.filter=="string"){ el.style.filter="alpha(opacity="+val*100+")"; if(!el.currentStyle||!el.currentStyle.hasLayout){ el.style.zoom=1; } } break; default: el.style[_46]=val; } }; }else{ _30=function(el,_49,val){ el.style[_49]=val; }; } YAHOO.util.Dom={get:function(el){ if(!el){ return null; } if(typeof el!="string"&&!(el instanceof Array)){ return el; } if(typeof el=="string"){ return document.getElementById(el); }else{ var _4c=[]; for(var i=0,len=el.length;i<len;++i){ _4c[_4c.length]=Y.Dom.get(el[i]); } return _4c; } return null; },getStyle:function(el,_50){ _50=_39(_50); var f=function(_52){ return _2f(_52,_50); }; return Y.Dom.batch(el,f,Y.Dom,true); },setStyle:function(el,_54,val){ _54=_39(_54); var f=function(_57){ _30(_57,_54,val); }; Y.Dom.batch(el,f,Y.Dom,true); },getXY:function(el){ var f=function(el){ if(el.parentNode===null||el.offsetParent===null||this.getStyle(el,"display")=="none"){ return false; } var _5b=null; var pos=[]; var box; if(el.getBoundingClientRect){ box=el.getBoundingClientRect(); var doc=document; if(!this.inDocument(el)&&parent.document!=document){ doc=parent.document; if(!this.isAncestor(doc.documentElement,el)){ return false; } } var _5f=Math.max(doc.documentElement.scrollTop,doc.body.scrollTop); var _60=Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft); return [box.left+_60,box.top+_5f]; }else{ pos=[el.offsetLeft,el.offsetTop]; _5b=el.offsetParent; if(_5b!=el){ while(_5b){ pos[0]+=_5b.offsetLeft; pos[1]+=_5b.offsetTop; _5b=_5b.offsetParent; } } if(_35&&this.getStyle(el,"position")=="absolute"){ pos[0]-=document.body.offsetLeft; pos[1]-=document.body.offsetTop; } } if(el.parentNode){ _5b=el.parentNode; }else{ _5b=null; } while(_5b&&_5b.tagName.toUpperCase()!="BODY"&&_5b.tagName.toUpperCase()!="HTML"){ if(Y.Dom.getStyle(_5b,"display")!="inline"){ pos[0]-=_5b.scrollLeft; pos[1]-=_5b.scrollTop; } if(_5b.parentNode){ _5b=_5b.parentNode; }else{ _5b=null; } } return pos; }; return Y.Dom.batch(el,f,Y.Dom,true); },getX:function(el){ var f=function(el){ return Y.Dom.getXY(el)[0]; }; return Y.Dom.batch(el,f,Y.Dom,true); },getY:function(el){ var f=function(el){ return Y.Dom.getXY(el)[1]; }; return Y.Dom.batch(el,f,Y.Dom,true); },setXY:function(el,pos,_69){ var f=function(el){ var _6c=this.getStyle(el,"position"); if(_6c=="static"){ this.setStyle(el,"position","relative"); _6c="relative"; } var _6d=this.getXY(el); if(_6d===false){ return false; } var _6e=[parseInt(this.getStyle(el,"left"),10),parseInt(this.getStyle(el,"top"),10)]; if(isNaN(_6e[0])){ _6e[0]=(_6c=="relative")?0:el.offsetLeft; } if(isNaN(_6e[1])){ _6e[1]=(_6c=="relative")?0:el.offsetTop; } if(pos[0]!==null){ el.style.left=pos[0]-_6d[0]+_6e[0]+"px"; } if(pos[1]!==null){ el.style.top=pos[1]-_6d[1]+_6e[1]+"px"; } if(!_69){ var _6f=this.getXY(el); if((pos[0]!==null&&_6f[0]!=pos[0])||(pos[1]!==null&&_6f[1]!=pos[1])){ this.setXY(el,pos,true); } } }; Y.Dom.batch(el,f,Y.Dom,true); },setX:function(el,x){ Y.Dom.setXY(el,[x,null]); },setY:function(el,y){ Y.Dom.setXY(el,[null,y]); },getRegion:function(el){ var f=function(el){ var _77=new Y.Region.getRegion(el); return _77; }; return Y.Dom.batch(el,f,Y.Dom,true); },getClientWidth:function(){ return Y.Dom.getViewportWidth(); },getClientHeight:function(){ return Y.Dom.getViewportHeight(); },getElementsByClassName:function(_78,tag,_7a){ var _7b=function(el){ return Y.Dom.hasClass(el,_78); }; return Y.Dom.getElementsBy(_7b,tag,_7a); },hasClass:function(el,_7e){ var re=new RegExp("(?:^|\\s+)"+_7e+"(?:\\s+|$)"); var f=function(el){ return re.test(el["className"]); }; return Y.Dom.batch(el,f,Y.Dom,true); },addClass:function(el,_83){ var f=function(el){ if(this.hasClass(el,_83)){ return; } el["className"]=[el["className"],_83].join(" "); }; Y.Dom.batch(el,f,Y.Dom,true); },removeClass:function(el,_87){ var re=new RegExp("(?:^|\\s+)"+_87+"(?:\\s+|$)","g"); var f=function(el){ if(!this.hasClass(el,_87)){ return; } var c=el["className"]; el["className"]=c.replace(re," "); if(this.hasClass(el,_87)){ this.removeClass(el,_87); } }; Y.Dom.batch(el,f,Y.Dom,true); },replaceClass:function(el,_8d,_8e){ if(_8d===_8e){ return false; } var re=new RegExp("(?:^|\\s+)"+_8d+"(?:\\s+|$)","g"); var f=function(el){ if(!this.hasClass(el,_8d)){ this.addClass(el,_8e); return; } el["className"]=el["className"].replace(re," "+_8e+" "); if(this.hasClass(el,_8d)){ this.replaceClass(el,_8d,_8e); } }; Y.Dom.batch(el,f,Y.Dom,true); },generateId:function(el,_93){ _93=_93||"yui-gen"; el=el||{}; var f=function(el){ if(el){ el=Y.Dom.get(el); }else{ el={}; } if(!el.id){ el.id=_93+_31++; } return el.id; }; return Y.Dom.batch(el,f,Y.Dom,true); },isAncestor:function(_96,_97){ _96=Y.Dom.get(_96); if(!_96||!_97){ return false; } var f=function(_99){ if(_96.contains&&!_35){ return _96.contains(_99); }else{ if(_96.compareDocumentPosition){ return !!(_96.compareDocumentPosition(_99)&16); }else{ var _9a=_99.parentNode; while(_9a){ if(_9a==_96){ return true; }else{ if(!_9a.tagName||_9a.tagName.toUpperCase()=="HTML"){ return false; } } _9a=_9a.parentNode; } return false; } } }; return Y.Dom.batch(_97,f,Y.Dom,true); },inDocument:function(el){ var f=function(el){ return this.isAncestor(document.documentElement,el); }; return Y.Dom.batch(el,f,Y.Dom,true); },getElementsBy:function(_9e,tag,_a0){ tag=tag||"*"; var _a1=[]; if(_a0){ _a0=Y.Dom.get(_a0); if(!_a0){ return _a1; } }else{ _a0=document; } var _a2=_a0.getElementsByTagName(tag); if(!_a2.length&&(tag=="*"&&_a0.all)){ _a2=_a0.all; } for(var i=0,len=_a2.length;i<len;++i){ if(_9e(_a2[i])){ _a1[_a1.length]=_a2[i]; } } return _a1; },batch:function(el,_a6,o,_a8){ var id=el; el=Y.Dom.get(el); var _aa=(_a8)?o:window; if(!el||el.tagName||!el.length){ if(!el){ return false; } return _a6.call(_aa,el,o); } var _ab=[]; for(var i=0,len=el.length;i<len;++i){ if(!el[i]){ id=el[i]; } _ab[_ab.length]=_a6.call(_aa,el[i],o); } return _ab; },getDocumentHeight:function(){ var _ae=(document.compatMode!="CSS1Compat")?document.body.scrollHeight:document.documentElement.scrollHeight; var h=Math.max(_ae,Y.Dom.getViewportHeight()); return h; },getDocumentWidth:function(){ var _b0=(document.compatMode!="CSS1Compat")?document.body.scrollWidth:document.documentElement.scrollWidth; var w=Math.max(_b0,Y.Dom.getViewportWidth()); return w; },getViewportHeight:function(){ var _b2=self.innerHeight; var _b3=document.compatMode; if((_b3||_37)&&!_34){ _b2=(_b3=="CSS1Compat")?document.documentElement.clientHeight:document.body.clientHeight; } return _b2; },getViewportWidth:function(){ var _b4=self.innerWidth; var _b5=document.compatMode; if(_b5||_37){ _b4=(_b5=="CSS1Compat")?document.documentElement.clientWidth:document.body.clientWidth; } return _b4; }}; })(); YAHOO.util.Region=function(t,r,b,l){ this.top=t; this[1]=t; this.right=r; this.bottom=b; this.left=l; this[0]=l; }; YAHOO.util.Region.prototype.contains=function(_ba){ return (_ba.left>=this.left&&_ba.right<=this.right&&_ba.top>=this.top&&_ba.bottom<=this.bottom); }; YAHOO.util.Region.prototype.getArea=function(){ return ((this.bottom-this.top)*(this.right-this.left)); }; YAHOO.util.Region.prototype.intersect=function(_bb){ var t=Math.max(this.top,_bb.top); var r=Math.min(this.right,_bb.right); var b=Math.min(this.bottom,_bb.bottom); var l=Math.max(this.left,_bb.left); if(b>=t&&r>=l){ return new YAHOO.util.Region(t,r,b,l); }else{ return null; } }; YAHOO.util.Region.prototype.union=function(_c0){ var t=Math.min(this.top,_c0.top); var r=Math.max(this.right,_c0.right); var b=Math.max(this.bottom,_c0.bottom); var l=Math.min(this.left,_c0.left); return new YAHOO.util.Region(t,r,b,l); }; YAHOO.util.Region.prototype.toString=function(){ return ("Region {"+"top: "+this.top+", right: "+this.right+", bottom: "+this.bottom+", left: "+this.left+"}"); }; YAHOO.util.Region.getRegion=function(el){ var p=YAHOO.util.Dom.getXY(el); var t=p[1]; var r=p[0]+el.offsetWidth; var b=p[1]+el.offsetHeight; var l=p[0]; return new YAHOO.util.Region(t,r,b,l); }; YAHOO.util.Point=function(x,y){ if(x instanceof Array){ y=x[1]; x=x[0]; } this.x=this.right=this.left=this[0]=x; this.y=this.top=this.bottom=this[1]=y; }; YAHOO.util.Point.prototype=new YAHOO.util.Region(); YAHOO.register("dom",YAHOO.util.Dom,{version:"2.2.0",build:"127"}); if(!YAHOO.util.Event){ YAHOO.util.Event=function(){ var _cd=false; var _ce=[]; var _cf=[]; var _d0=[]; var _d1=[]; var _d2=0; var _d3=[]; var _d4=[]; var _d5=0; var _d6=null; return {POLL_RETRYS:200,POLL_INTERVAL:20,EL:0,TYPE:1,FN:2,WFN:3,OBJ:3,ADJ_SCOPE:4,isSafari:(/KHTML/gi).test(navigator.userAgent),webkit:function(){ var v=navigator.userAgent.match(/AppleWebKit\/([^ ]*)/); if(v&&v[1]){ return v[1]; } return null; }(),isIE:(!this.webkit&&!navigator.userAgent.match(/opera/gi)&&navigator.userAgent.match(/msie/gi)),_interval:null,startInterval:function(){ if(!this._interval){ var _d8=this; var _d9=function(){ _d8._tryPreloadAttach(); }; this._interval=setInterval(_d9,this.POLL_INTERVAL); } },onAvailable:function(_da,_db,_dc,_dd){ _d3.push({id:_da,fn:_db,obj:_dc,override:_dd,checkReady:false}); _d2=this.POLL_RETRYS; this.startInterval(); },onContentReady:function(_de,_df,_e0,_e1){ _d3.push({id:_de,fn:_df,obj:_e0,override:_e1,checkReady:true}); _d2=this.POLL_RETRYS; this.startInterval(); },addListener:function(el,_e3,fn,obj,_e6){ if(!fn||!fn.call){ return false; } if(this._isValidCollection(el)){ var ok=true; for(var i=0,len=el.length;i<len;++i){ ok=this.on(el[i],_e3,fn,obj,_e6)&&ok; } return ok; }else{ if(typeof el=="string"){ var oEl=this.getEl(el); if(oEl){ el=oEl; }else{ this.onAvailable(el,function(){ YAHOO.util.Event.on(el,_e3,fn,obj,_e6); }); return true; } } } if(!el){ return false; } if("unload"==_e3&&obj!==this){ _cf[_cf.length]=[el,_e3,fn,obj,_e6]; return true; } var _eb=el; if(_e6){ if(_e6===true){ _eb=obj; }else{ _eb=_e6; } } var _ec=function(e){ return fn.call(_eb,YAHOO.util.Event.getEvent(e),obj); }; var li=[el,_e3,fn,_ec,_eb]; var _ef=_ce.length; _ce[_ef]=li; if(this.useLegacyEvent(el,_e3)){ var _f0=this.getLegacyIndex(el,_e3); if(_f0==-1||el!=_d0[_f0][0]){ _f0=_d0.length; _d4[el.id+_e3]=_f0; _d0[_f0]=[el,_e3,el["on"+_e3]]; _d1[_f0]=[]; el["on"+_e3]=function(e){ YAHOO.util.Event.fireLegacyEvent(YAHOO.util.Event.getEvent(e),_f0); }; } _d1[_f0].push(li); }else{ try{ this._simpleAdd(el,_e3,_ec,false); } catch(ex){ this.lastError=ex; this.removeListener(el,_e3,fn); return false; } } return true; },fireLegacyEvent:function(e,_f3){ var ok=true,le,lh,li,_f8,ret; lh=_d1[_f3]; for(var i=0,len=lh.length;i<len;++i){ li=lh[i]; if(li&&li[this.WFN]){ _f8=li[this.ADJ_SCOPE]; ret=li[this.WFN].call(_f8,e); ok=(ok&&ret); } } le=_d0[_f3]; if(le&&le[2]){ le[2](e); } return ok; },getLegacyIndex:function(el,_fd){ var key=this.generateId(el)+_fd; if(typeof _d4[key]=="undefined"){ return -1; }else{ return _d4[key]; } },useLegacyEvent:function(el,_100){ if(this.webkit&&("click"==_100||"dblclick"==_100)){ var v=parseInt(this.webkit,10); if(!isNaN(v)&&v<418){ return true; } } return false; },removeListener:function(el,_103,fn){ var i,len; if(typeof el=="string"){ el=this.getEl(el); }else{ if(this._isValidCollection(el)){ var ok=true; for(i=0,len=el.length;i<len;++i){ ok=(this.removeListener(el[i],_103,fn)&&ok); } return ok; } } if(!fn||!fn.call){ return this.purgeElement(el,false,_103); } if("unload"==_103){ for(i=0,len=_cf.length;i<len;i++){ var li=_cf[i]; if(li&&li[0]==el&&li[1]==_103&&li[2]==fn){ _cf.splice(i,1); return true; } } return false; } var _109=null; var _10a=arguments[3]; if("undefined"==typeof _10a){ _10a=this._getCacheIndex(el,_103,fn); } if(_10a>=0){ _109=_ce[_10a]; } if(!el||!_109){ return false; } if(this.useLegacyEvent(el,_103)){ var _10b=this.getLegacyIndex(el,_103); var _10c=_d1[_10b]; if(_10c){ for(i=0,len=_10c.length;i<len;++i){ li=_10c[i]; if(li&&li[this.EL]==el&&li[this.TYPE]==_103&&li[this.FN]==fn){ _10c.splice(i,1); break; } } } }else{ try{ this._simpleRemove(el,_103,_109[this.WFN],false); } catch(ex){ this.lastError=ex; return false; } } delete _ce[_10a][this.WFN]; delete _ce[_10a][this.FN]; _ce.splice(_10a,1); return true; },getTarget:function(ev,_10e){ var t=ev.target||ev.srcElement; return this.resolveTextNode(t); },resolveTextNode:function(node){ if(node&&3==node.nodeType){ return node.parentNode; }else{ return node; } },getPageX:function(ev){ var x=ev.pageX; if(!x&&0!==x){ x=ev.clientX||0; if(this.isIE){ x+=this._getScrollLeft(); } } return x; },getPageY:function(ev){ var y=ev.pageY; if(!y&&0!==y){ y=ev.clientY||0; if(this.isIE){ y+=this._getScrollTop(); } } return y; },getXY:function(ev){ return [this.getPageX(ev),this.getPageY(ev)]; },getRelatedTarget:function(ev){ var t=ev.relatedTarget; if(!t){ if(ev.type=="mouseout"){ t=ev.toElement; }else{ if(ev.type=="mouseover"){ t=ev.fromElement; } } } return this.resolveTextNode(t); },getTime:function(ev){ if(!ev.time){ var t=new Date().getTime(); try{ ev.time=t; } catch(ex){ this.lastError=ex; return t; } } return ev.time; },stopEvent:function(ev){ this.stopPropagation(ev); this.preventDefault(ev); },stopPropagation:function(ev){ if(ev.stopPropagation){ ev.stopPropagation(); }else{ ev.cancelBubble=true; } },preventDefault:function(ev){ if(ev.preventDefault){ ev.preventDefault(); }else{ ev.returnValue=false; } },getEvent:function(e){ var ev=e||window.event; if(!ev){ var c=this.getEvent.caller; while(c){ ev=c.arguments[0]; if(ev&&Event==ev.constructor){ break; } c=c.caller; } } return ev; },getCharCode:function(ev){ return ev.charCode||ev.keyCode||0; },_getCacheIndex:function(el,_122,fn){ for(var i=0,len=_ce.length;i<len;++i){ var li=_ce[i]; if(li&&li[this.FN]==fn&&li[this.EL]==el&&li[this.TYPE]==_122){ return i; } } return -1; },generateId:function(el){ var id=el.id; if(!id){ id="yuievtautoid-"+_d5; ++_d5; el.id=id; } return id; },_isValidCollection:function(o){ return (o&&o.length&&typeof o!="string"&&!o.tagName&&!o.alert&&typeof o[0]!="undefined"); },elCache:{},getEl:function(id){ return document.getElementById(id); },clearCache:function(){ },_load:function(e){ _cd=true; var EU=YAHOO.util.Event; if(this.isIE){ EU._simpleRemove(window,"load",EU._load); } },_tryPreloadAttach:function(){ if(this.locked){ return false; } this.locked=true; var _12d=!_cd; if(!_12d){ _12d=(_d2>0); } var _12e=[]; for(var i=0,len=_d3.length;i<len;++i){ var item=_d3[i]; if(item){ var el=this.getEl(item.id); if(el){ if(!item.checkReady||_cd||el.nextSibling||(document&&document.body)){ var _133=el; if(item.override){ if(item.override===true){ _133=item.obj; }else{ _133=item.override; } } item.fn.call(_133,item.obj); _d3[i]=null; } }else{ _12e.push(item); } } } _d2=(_12e.length===0)?0:_d2-1; if(_12d){ this.startInterval(); }else{ clearInterval(this._interval); this._interval=null; } this.locked=false; return true; },purgeElement:function(el,_135,_136){ var _137=this.getListeners(el,_136); if(_137){ for(var i=0,len=_137.length;i<len;++i){ var l=_137[i]; this.removeListener(el,l.type,l.fn); } } if(_135&&el&&el.childNodes){ for(i=0,len=el.childNodes.length;i<len;++i){ this.purgeElement(el.childNodes[i],_135,_136); } } },getListeners:function(el,_13c){ var _13d=[],_13e; if(!_13c){ _13e=[_ce,_cf]; }else{ if(_13c=="unload"){ _13e=[_cf]; }else{ _13e=[_ce]; } } for(var j=0;j<_13e.length;++j){ var _140=_13e[j]; if(_140&&_140.length>0){ for(var i=0,len=_140.length;i<len;++i){ var l=_140[i]; if(l&&l[this.EL]===el&&(!_13c||_13c===l[this.TYPE])){ _13d.push({type:l[this.TYPE],fn:l[this.FN],obj:l[this.OBJ],adjust:l[this.ADJ_SCOPE],index:i}); } } } } return (_13d.length)?_13d:null; },_unload:function(e){ var EU=YAHOO.util.Event,i,j,l,len,_14a; for(i=0,len=_cf.length;i<len;++i){ l=_cf[i]; if(l){ var _14b=window; if(l[EU.ADJ_SCOPE]){ if(l[EU.ADJ_SCOPE]===true){ _14b=l[EU.OBJ]; }else{ _14b=l[EU.ADJ_SCOPE]; } } l[EU.FN].call(_14b,EU.getEvent(e),l[EU.OBJ]); _cf[i]=null; l=null; _14b=null; } } _cf=null; if(_ce&&_ce.length>0){ j=_ce.length; while(j){ _14a=j-1; l=_ce[_14a]; if(l){ EU.removeListener(l[EU.EL],l[EU.TYPE],l[EU.FN],_14a); } j=j-1; } l=null; EU.clearCache(); } for(i=0,len=_d0.length;i<len;++i){ _d0[i][0]=null; _d0[i]=null; } _d0=null; EU._simpleRemove(window,"unload",EU._unload); },_getScrollLeft:function(){ return this._getScroll()[1]; },_getScrollTop:function(){ return this._getScroll()[0]; },_getScroll:function(){ var dd=document.documentElement,db=document.body; if(dd&&(dd.scrollTop||dd.scrollLeft)){ return [dd.scrollTop,dd.scrollLeft]; }else{ if(db){ return [db.scrollTop,db.scrollLeft]; }else{ return [0,0]; } } },regCE:function(){ },_simpleAdd:function(){ if(window.addEventListener){ return function(el,_14f,fn,_151){ el.addEventListener(_14f,fn,(_151)); }; }else{ if(window.attachEvent){ return function(el,_153,fn,_155){ el.attachEvent("on"+_153,fn); }; }else{ return function(){ }; } } }(),_simpleRemove:function(){ if(window.removeEventListener){ return function(el,_157,fn,_159){ el.removeEventListener(_157,fn,(_159)); }; }else{ if(window.detachEvent){ return function(el,_15b,fn){ el.detachEvent("on"+_15b,fn); }; }else{ return function(){ }; } } }()}; }(); (function(){ var EU=YAHOO.util.Event; EU.on=EU.addListener; if(document&&document.body){ EU._load(); }else{ EU._simpleAdd(window,"load",EU._load); } EU._simpleAdd(window,"unload",EU._unload); EU._tryPreloadAttach(); })(); } YAHOO.util.CustomEvent=function(type,_15f,_160,_161){ this.type=type; this.scope=_15f||window; this.silent=_160; this.signature=_161||YAHOO.util.CustomEvent.LIST; this.subscribers=[]; if(!this.silent){ } var _162="_YUICEOnSubscribe"; if(type!==_162){ this.subscribeEvent=new YAHOO.util.CustomEvent(_162,this,true); } }; YAHOO.util.CustomEvent.LIST=0; YAHOO.util.CustomEvent.FLAT=1; YAHOO.util.CustomEvent.prototype={subscribe:function(fn,obj,_165){ if(this.subscribeEvent){ this.subscribeEvent.fire(fn,obj,_165); } this.subscribers.push(new YAHOO.util.Subscriber(fn,obj,_165)); },unsubscribe:function(fn,obj){ if(!fn){ return this.unsubscribeAll(); } var _168=false; for(var i=0,len=this.subscribers.length;i<len;++i){ var s=this.subscribers[i]; if(s&&s.contains(fn,obj)){ this._delete(i); _168=true; } } return _168; },fire:function(){ var len=this.subscribers.length; if(!len&&this.silent){ return true; } var args=[],ret=true,i; for(i=0;i<arguments.length;++i){ args.push(arguments[i]); } var _170=args.length; if(!this.silent){ } for(i=0;i<len;++i){ var s=this.subscribers[i]; if(s){ if(!this.silent){ } var _172=s.getScope(this.scope); if(this.signature==YAHOO.util.CustomEvent.FLAT){ var _173=null; if(args.length>0){ _173=args[0]; } ret=s.fn.call(_172,_173,s.obj); }else{ ret=s.fn.call(_172,this.type,args,s.obj); } if(false===ret){ if(!this.silent){ } return false; } } } return true; },unsubscribeAll:function(){ for(var i=0,len=this.subscribers.length;i<len;++i){ this._delete(len-1-i); } return i; },_delete:function(_176){ var s=this.subscribers[_176]; if(s){ delete s.fn; delete s.obj; } this.subscribers.splice(_176,1); },toString:function(){ return "CustomEvent: "+"'"+this.type+"', "+"scope: "+this.scope; }}; YAHOO.util.Subscriber=function(fn,obj,_17a){ this.fn=fn; this.obj=obj||null; this.override=_17a; }; YAHOO.util.Subscriber.prototype.getScope=function(_17b){ if(this.override){ if(this.override===true){ return this.obj; }else{ return this.override; } } return _17b; }; YAHOO.util.Subscriber.prototype.contains=function(fn,obj){ if(obj){ return (this.fn==fn&&this.obj==obj); }else{ return (this.fn==fn); } }; YAHOO.util.Subscriber.prototype.toString=function(){ return "Subscriber { obj: "+(this.obj||"")+", override: "+(this.override||"no")+" }"; }; YAHOO.util.EventProvider=function(){ }; YAHOO.util.EventProvider.prototype={__yui_events:null,__yui_subscribers:null,subscribe:function(_17e,p_fn,_180,_181){ this.__yui_events=this.__yui_events||{}; var ce=this.__yui_events[_17e]; if(ce){ ce.subscribe(p_fn,_180,_181); }else{ this.__yui_subscribers=this.__yui_subscribers||{}; var subs=this.__yui_subscribers; if(!subs[_17e]){ subs[_17e]=[]; } subs[_17e].push({fn:p_fn,obj:_180,override:_181}); } },unsubscribe:function(_184,p_fn,_186){ this.__yui_events=this.__yui_events||{}; var ce=this.__yui_events[_184]; if(ce){ return ce.unsubscribe(p_fn,_186); }else{ return false; } },unsubscribeAll:function(_188){ return this.unsubscribe(_188); },createEvent:function(_189,_18a){ this.__yui_events=this.__yui_events||{}; var opts=_18a||{}; var _18c=this.__yui_events; if(_18c[_189]){ }else{ var _18d=opts.scope||this; var _18e=opts.silent||null; var ce=new YAHOO.util.CustomEvent(_189,_18d,_18e,YAHOO.util.CustomEvent.FLAT); _18c[_189]=ce; if(opts.onSubscribeCallback){ ce.subscribeEvent.subscribe(opts.onSubscribeCallback); } this.__yui_subscribers=this.__yui_subscribers||{}; var qs=this.__yui_subscribers[_189]; if(qs){ for(var i=0;i<qs.length;++i){ ce.subscribe(qs[i].fn,qs[i].obj,qs[i].override); } } } return _18c[_189]; },fireEvent:function(_192,arg1,arg2,etc){ this.__yui_events=this.__yui_events||{}; var ce=this.__yui_events[_192]; if(ce){ var args=[]; for(var i=1;i<arguments.length;++i){ args.push(arguments[i]); } return ce.fire.apply(ce,args); }else{ return null; } },hasEvent:function(type){ if(this.__yui_events){ if(this.__yui_events[type]){ return true; } } return false; }}; YAHOO.util.KeyListener=function(_19a,_19b,_19c,_19d){ if(!_19a){ }else{ if(!_19b){ }else{ if(!_19c){ } } } if(!_19d){ _19d=YAHOO.util.KeyListener.KEYDOWN; } var _19e=new YAHOO.util.CustomEvent("keyPressed"); this.enabledEvent=new YAHOO.util.CustomEvent("enabled"); this.disabledEvent=new YAHOO.util.CustomEvent("disabled"); if(typeof _19a=="string"){ _19a=document.getElementById(_19a); } if(typeof _19c=="function"){ _19e.subscribe(_19c); }else{ _19e.subscribe(_19c.fn,_19c.scope,_19c.correctScope); } function handleKeyPress(e,obj){ if(!_19b.shift){ _19b.shift=false; } if(!_19b.alt){ _19b.alt=false; } if(!_19b.ctrl){ _19b.ctrl=false; } if(e.shiftKey==_19b.shift&&e.altKey==_19b.alt&&e.ctrlKey==_19b.ctrl){ var _1a1; var _1a2; if(_19b.keys instanceof Array){ for(var i=0;i<_19b.keys.length;i++){ _1a1=_19b.keys[i]; if(_1a1==e.charCode){ _19e.fire(e.charCode,e); break; }else{ if(_1a1==e.keyCode){ _19e.fire(e.keyCode,e); break; } } } }else{ _1a1=_19b.keys; if(_1a1==e.charCode){ _19e.fire(e.charCode,e); }else{ if(_1a1==e.keyCode){ _19e.fire(e.keyCode,e); } } } } } this.enable=function(){ if(!this.enabled){ YAHOO.util.Event.addListener(_19a,_19d,handleKeyPress); this.enabledEvent.fire(_19b); } this.enabled=true; }; this.disable=function(){ if(this.enabled){ YAHOO.util.Event.removeListener(_19a,_19d,handleKeyPress); this.disabledEvent.fire(_19b); } this.enabled=false; }; this.toString=function(){ return "KeyListener ["+_19b.keys+"] "+_19a.tagName+(_19a.id?"["+_19a.id+"]":""); }; }; YAHOO.util.KeyListener.KEYDOWN="keydown"; YAHOO.util.KeyListener.KEYUP="keyup"; YAHOO.register("event",YAHOO.util.Event,{version:"2.2.0",build:"127"});  YAHOO.widget.LogMsg=function(_1){ if(typeof _1=="object"){ for(var _2 in _1){ this[_2]=_1[_2]; } } }; YAHOO.widget.LogMsg.prototype.msg=null; YAHOO.widget.LogMsg.prototype.time=null; YAHOO.widget.LogMsg.prototype.category=null; YAHOO.widget.LogMsg.prototype.source=null; YAHOO.widget.LogMsg.prototype.sourceDetail=null; YAHOO.widget.LogWriter=function(_3){ if(!_3){ YAHOO.log("Could not instantiate LogWriter due to invalid source.","error","LogWriter"); return; } this._source=_3; }; YAHOO.widget.LogWriter.prototype.toString=function(){ return "LogWriter "+this._sSource; }; YAHOO.widget.LogWriter.prototype.log=function(_4,_5){ YAHOO.widget.Logger.log(_4,_5,this._source); }; YAHOO.widget.LogWriter.prototype.getSource=function(){ return this._sSource; }; YAHOO.widget.LogWriter.prototype.setSource=function(_6){ if(!_6){ YAHOO.log("Could not set source due to invalid source.","error",this.toString()); return; }else{ this._sSource=_6; } }; YAHOO.widget.LogWriter.prototype._source=null; YAHOO.widget.LogReader=function(_7,_8){ var _9=this; this._sName=YAHOO.widget.LogReader._index; YAHOO.widget.LogReader._index++; if(typeof _8=="object"){ for(var _a in _8){ this[_a]=_8[_a]; } } if(_7){ if(typeof _7=="string"){ this._elContainer=document.getElementById(_7); }else{ if(_7.tagName){ this._elContainer=_7; } } this._elContainer.className="yui-log"; } if(!this._elContainer){ if(YAHOO.widget.LogReader._elDefaultContainer){ this._elContainer=YAHOO.widget.LogReader._elDefaultContainer; }else{ this._elContainer=document.body.appendChild(document.createElement("div")); this._elContainer.id="yui-log"; this._elContainer.className="yui-log"; YAHOO.widget.LogReader._elDefaultContainer=this._elContainer; } var _b=this._elContainer.style; if(this.width){ _b.width=this.width; } if(this.right){ _b.right=this.right; } if(this.top){ _b.top=this.top; } if(this.left){ _b.left=this.left; _b.right="auto"; } if(this.bottom){ _b.bottom=this.bottom; _b.top="auto"; } if(this.fontSize){ _b.fontSize=this.fontSize; } if(navigator.userAgent.toLowerCase().indexOf("opera")!=-1){ document.body.style+=""; } } if(this._elContainer){ if(!this._elHd){ this._elHd=this._elContainer.appendChild(document.createElement("div")); this._elHd.id="yui-log-hd"+this._sName; this._elHd.className="yui-log-hd"; this._elCollapse=this._elHd.appendChild(document.createElement("div")); this._elCollapse.className="yui-log-btns"; this._btnCollapse=document.createElement("input"); this._btnCollapse.type="button"; this._btnCollapse.style.fontSize=YAHOO.util.Dom.getStyle(this._elContainer,"fontSize"); this._btnCollapse.className="yui-log-button"; this._btnCollapse.value="Collapse"; this._btnCollapse=this._elCollapse.appendChild(this._btnCollapse); YAHOO.util.Event.addListener(_9._btnCollapse,"click",_9._onClickCollapseBtn,_9); this._title=this._elHd.appendChild(document.createElement("h4")); this._title.innerHTML="Logger Console"; if(YAHOO.util.DD&&(YAHOO.widget.LogReader._elDefaultContainer==this._elContainer)){ var _c=new YAHOO.util.DD(this._elContainer.id); _c.setHandleElId(this._elHd.id); this._elHd.style.cursor="move"; } } if(!this._elConsole){ this._elConsole=this._elContainer.appendChild(document.createElement("div")); this._elConsole.className="yui-log-bd"; if(this.height){ this._elConsole.style.height=this.height; } } if(!this._elFt&&this.footerEnabled){ this._elFt=this._elContainer.appendChild(document.createElement("div")); this._elFt.className="yui-log-ft"; this._elBtns=this._elFt.appendChild(document.createElement("div")); this._elBtns.className="yui-log-btns"; this._btnPause=document.createElement("input"); this._btnPause.type="button"; this._btnPause.style.fontSize=YAHOO.util.Dom.getStyle(this._elContainer,"fontSize"); this._btnPause.className="yui-log-button"; this._btnPause.value="Pause"; this._btnPause=this._elBtns.appendChild(this._btnPause); YAHOO.util.Event.addListener(_9._btnPause,"click",_9._onClickPauseBtn,_9); this._btnClear=document.createElement("input"); this._btnClear.type="button"; this._btnClear.style.fontSize=YAHOO.util.Dom.getStyle(this._elContainer,"fontSize"); this._btnClear.className="yui-log-button"; this._btnClear.value="Clear"; this._btnClear=this._elBtns.appendChild(this._btnClear); YAHOO.util.Event.addListener(_9._btnClear,"click",_9._onClickClearBtn,_9); this._elCategoryFilters=this._elFt.appendChild(document.createElement("div")); this._elCategoryFilters.className="yui-log-categoryfilters"; this._elSourceFilters=this._elFt.appendChild(document.createElement("div")); this._elSourceFilters.className="yui-log-sourcefilters"; } } if(!this._buffer){ this._buffer=[]; } this._lastTime=YAHOO.widget.Logger.getStartTime(); YAHOO.widget.Logger.newLogEvent.subscribe(this._onNewLog,this); YAHOO.widget.Logger.logResetEvent.subscribe(this._onReset,this); this._categoryFilters=[]; var _d=YAHOO.widget.Logger.categories.length; if(this._elCategoryFilters){ for(var i=0;i<_d;i++){ this._createCategoryCheckbox(YAHOO.widget.Logger.categories[i]); } } this._sourceFilters=[]; var _f=YAHOO.widget.Logger.sources.length; if(this._elSourceFilters){ for(var j=0;j<_f;j++){ this._createSourceCheckbox(YAHOO.widget.Logger.sources[j]); } } YAHOO.widget.Logger.categoryCreateEvent.subscribe(this._onCategoryCreate,this); YAHOO.widget.Logger.sourceCreateEvent.subscribe(this._onSourceCreate,this); this._filterLogs(); YAHOO.log("LogReader initialized",null,this.toString()); }; YAHOO.widget.LogReader.prototype.logReaderEnabled=true; YAHOO.widget.LogReader.prototype.width=null; YAHOO.widget.LogReader.prototype.height=null; YAHOO.widget.LogReader.prototype.top=null; YAHOO.widget.LogReader.prototype.left=null; YAHOO.widget.LogReader.prototype.right=null; YAHOO.widget.LogReader.prototype.bottom=null; YAHOO.widget.LogReader.prototype.fontSize=null; YAHOO.widget.LogReader.prototype.footerEnabled=true; YAHOO.widget.LogReader.prototype.verboseOutput=true; YAHOO.widget.LogReader.prototype.newestOnTop=true; YAHOO.widget.LogReader.prototype.thresholdMax=500; YAHOO.widget.LogReader.prototype.thresholdMin=100; YAHOO.widget.LogReader.prototype.isCollapsed=false; YAHOO.widget.LogReader.prototype.toString=function(){ return "LogReader instance"+this._sName; }; YAHOO.widget.LogReader.prototype.pause=function(){ this._timeout=null; this.logReaderEnabled=false; }; YAHOO.widget.LogReader.prototype.resume=function(){ this.logReaderEnabled=true; this._printBuffer(); }; YAHOO.widget.LogReader.prototype.hide=function(){ this._elContainer.style.display="none"; }; YAHOO.widget.LogReader.prototype.show=function(){ this._elContainer.style.display="block"; }; YAHOO.widget.LogReader.prototype.collapse=function(){ this._elConsole.style.display="none"; if(this._elFt){ this._elFt.style.display="none"; } this._btnCollapse.value="Expand"; this.isCollapsed=true; }; YAHOO.widget.LogReader.prototype.expand=function(){ this._elConsole.style.display="block"; if(this._elFt){ this._elFt.style.display="block"; } this._btnCollapse.value="Collapse"; this.isCollapsed=false; }; YAHOO.widget.LogReader.prototype.setTitle=function(_11){ this._title.innerHTML=this.html2Text(_11); }; YAHOO.widget.LogReader.prototype.getLastTime=function(){ return this._lastTime; }; YAHOO.widget.LogReader.prototype.formatMsg=function(_12){ var _13=_12.category; var _14=_13.substring(0,4).toUpperCase(); var _15=_12.time; if(_15.toLocaleTimeString){ var _16=_15.toLocaleTimeString(); }else{ _16=_15.toString(); } var _17=_15.getTime(); var _18=YAHOO.widget.Logger.getStartTime(); var _19=_17-_18; var _1a=_17-this.getLastTime(); var _1b=_12.source; var _1c=_12.sourceDetail; var _1d=(_1c)?_1b+" "+_1c:_1b; var msg=this.html2Text(_12.msg); var _1f=(this.verboseOutput)?["<p><span class='",_13,"'>",_14,"</span> ",_19,"ms (+",_1a,") ",_16,": ","</p><p>",_1d,": </p><p>",msg,"</p>"]:["<p><span class='",_13,"'>",_14,"</span> ",_19,"ms (+",_1a,") ",_16,": ",_1d,": ",msg,"</p>"]; return _1f.join(""); }; YAHOO.widget.LogReader.prototype.html2Text=function(_20){ if(_20){ _20+=""; return _20.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;"); } return ""; }; YAHOO.widget.LogReader._index=0; YAHOO.widget.LogReader.prototype._sName=null; YAHOO.widget.LogReader._elDefaultContainer=null; YAHOO.widget.LogReader.prototype._buffer=null; YAHOO.widget.LogReader.prototype._consoleMsgCount=0; YAHOO.widget.LogReader.prototype._lastTime=null; YAHOO.widget.LogReader.prototype._timeout=null; YAHOO.widget.LogReader.prototype._categoryFilters=null; YAHOO.widget.LogReader.prototype._sourceFilters=null; YAHOO.widget.LogReader.prototype._elContainer=null; YAHOO.widget.LogReader.prototype._elHd=null; YAHOO.widget.LogReader.prototype._elCollapse=null; YAHOO.widget.LogReader.prototype._btnCollapse=null; YAHOO.widget.LogReader.prototype._title=null; YAHOO.widget.LogReader.prototype._elConsole=null; YAHOO.widget.LogReader.prototype._elFt=null; YAHOO.widget.LogReader.prototype._elBtns=null; YAHOO.widget.LogReader.prototype._elCategoryFilters=null; YAHOO.widget.LogReader.prototype._elSourceFilters=null; YAHOO.widget.LogReader.prototype._btnPause=null; YAHOO.widget.LogReader.prototype._btnClear=null; YAHOO.widget.LogReader.prototype._createCategoryCheckbox=function(_21){ var _22=this; if(this._elFt){ var _23=this._elCategoryFilters; var _24=this._categoryFilters; var _25=_23.appendChild(document.createElement("span")); _25.className="yui-log-filtergrp"; var _26=document.createElement("input"); _26.id="yui-log-filter-"+_21+this._sName; _26.className="yui-log-filter-"+_21; _26.type="checkbox"; _26.category=_21; _26=_25.appendChild(_26); _26.checked=true; _24.push(_21); YAHOO.util.Event.addListener(_26,"click",_22._onCheckCategory,_22); var _27=_25.appendChild(document.createElement("label")); _27.htmlFor=_26.id; _27.className=_21; _27.innerHTML=_21; } }; YAHOO.widget.LogReader.prototype._createSourceCheckbox=function(_28){ var _29=this; if(this._elFt){ var _2a=this._elSourceFilters; var _2b=this._sourceFilters; var _2c=_2a.appendChild(document.createElement("span")); _2c.className="yui-log-filtergrp"; var _2d=document.createElement("input"); _2d.id="yui-log-filter"+_28+this._sName; _2d.className="yui-log-filter"+_28; _2d.type="checkbox"; _2d.source=_28; _2d=_2c.appendChild(_2d); _2d.checked=true; _2b.push(_28); YAHOO.util.Event.addListener(_2d,"click",_29._onCheckSource,_29); var _2e=_2c.appendChild(document.createElement("label")); _2e.htmlFor=_2d.id; _2e.className=_28; _2e.innerHTML=_28; } }; YAHOO.widget.LogReader.prototype._filterLogs=function(){ if(this._elConsole!==null){ this._clearConsole(); this._printToConsole(YAHOO.widget.Logger.getStack()); } }; YAHOO.widget.LogReader.prototype._clearConsole=function(){ this._timeout=null; this._buffer=[]; this._consoleMsgCount=0; this._lastTime=YAHOO.widget.Logger.getStartTime(); var _2f=this._elConsole; while(_2f.hasChildNodes()){ _2f.removeChild(_2f.firstChild); } }; YAHOO.widget.LogReader.prototype._printBuffer=function(){ this._timeout=null; if(this._elConsole!==null){ var _30=this.thresholdMax; _30=(_30&&!isNaN(_30))?_30:500; if(this._consoleMsgCount<_30){ var _31=[]; for(var i=0;i<this._buffer.length;i++){ _31[i]=this._buffer[i]; } this._buffer=[]; this._printToConsole(_31); }else{ this._filterLogs(); } if(!this.newestOnTop){ this._elConsole.scrollTop=this._elConsole.scrollHeight; } } }; YAHOO.widget.LogReader.prototype._printToConsole=function(_33){ var _34=_33.length; var _35=this.thresholdMin; if(isNaN(_35)||(_35>this.thresholdMax)){ _35=0; } var _36=(_34>_35)?(_34-_35):0; var _37=this._sourceFilters.length; var _38=this._categoryFilters.length; for(var i=_36;i<_34;i++){ var _3a=false; var _3b=false; var _3c=_33[i]; var _3d=_3c.source; var _3e=_3c.category; for(var j=0;j<_37;j++){ if(_3d==this._sourceFilters[j]){ _3b=true; break; } } if(_3b){ for(var k=0;k<_38;k++){ if(_3e==this._categoryFilters[k]){ _3a=true; break; } } } if(_3a){ var _41=this.formatMsg(_3c); var _42=(this.verboseOutput)?"CODE":"PRE"; var _43=(this.newestOnTop)?this._elConsole.insertBefore(document.createElement(_42),this._elConsole.firstChild):this._elConsole.appendChild(document.createElement(_42)); _43.innerHTML=_41; this._consoleMsgCount++; this._lastTime=_3c.time.getTime(); } } }; YAHOO.widget.LogReader.prototype._onCategoryCreate=function(_44,_45,_46){ var _47=_45[0]; if(_46._elFt){ _46._createCategoryCheckbox(_47); } }; YAHOO.widget.LogReader.prototype._onSourceCreate=function(_48,_49,_4a){ var _4b=_49[0]; if(_4a._elFt){ _4a._createSourceCheckbox(_4b); } }; YAHOO.widget.LogReader.prototype._onCheckCategory=function(v,_4d){ var _4e=this.category; var _4f=_4d._categoryFilters; if(!this.checked){ for(var i=0;i<_4f.length;i++){ if(_4e==_4f[i]){ _4f.splice(i,1); break; } } }else{ _4f.push(_4e); } _4d._filterLogs(); }; YAHOO.widget.LogReader.prototype._onCheckSource=function(v,_52){ var _53=this.source; var _54=_52._sourceFilters; if(!this.checked){ for(var i=0;i<_54.length;i++){ if(_53==_54[i]){ _54.splice(i,1); break; } } }else{ _54.push(_53); } _52._filterLogs(); }; YAHOO.widget.LogReader.prototype._onClickCollapseBtn=function(v,_57){ if(!_57.isCollapsed){ _57.collapse(); }else{ _57.expand(); } }; YAHOO.widget.LogReader.prototype._onClickPauseBtn=function(v,_59){ var btn=_59._btnPause; if(btn.value=="Resume"){ _59.resume(); btn.value="Pause"; }else{ _59.pause(); btn.value="Resume"; } }; YAHOO.widget.LogReader.prototype._onClickClearBtn=function(v,_5c){ _5c._clearConsole(); }; YAHOO.widget.LogReader.prototype._onNewLog=function(_5d,_5e,_5f){ var _60=_5e[0]; _5f._buffer.push(_60); if(_5f.logReaderEnabled===true&&_5f._timeout===null){ _5f._timeout=setTimeout(function(){ _5f._printBuffer(); },100); } }; YAHOO.widget.LogReader.prototype._onReset=function(_61,_62,_63){ _63._filterLogs(); }; YAHOO.widget.Logger={loggerEnabled:true,_browserConsoleEnabled:false,categories:["info","warn","error","time","window"],sources:["global"],_stack:[],maxStackEntries:2500,_startTime:new Date().getTime(),_lastTime:null}; YAHOO.widget.Logger.log=function(_64,_65,_66){ if(this.loggerEnabled){ if(!_65){ _65="info"; }else{ _65=_65.toLocaleLowerCase(); if(this._isNewCategory(_65)){ this._createNewCategory(_65); } } var _67="global"; var _68=null; if(_66){ var _69=_66.indexOf(" "); if(_69>0){ _67=_66.substring(0,_69); _68=_66.substring(_69,_66.length); }else{ _67=_66; } if(this._isNewSource(_67)){ this._createNewSource(_67); } } var _6a=new Date(); var _6b=new YAHOO.widget.LogMsg({msg:_64,time:_6a,category:_65,source:_67,sourceDetail:_68}); var _6c=this._stack; var _6d=this.maxStackEntries; if(_6d&&!isNaN(_6d)&&(_6c.length>=_6d)){ _6c.shift(); } _6c.push(_6b); this.newLogEvent.fire(_6b); if(this._browserConsoleEnabled){ this._printToBrowserConsole(_6b); } return true; }else{ return false; } }; YAHOO.widget.Logger.reset=function(){ this._stack=[]; this._startTime=new Date().getTime(); this.loggerEnabled=true; this.log("Logger reset"); this.logResetEvent.fire(); }; YAHOO.widget.Logger.getStack=function(){ return this._stack; }; YAHOO.widget.Logger.getStartTime=function(){ return this._startTime; }; YAHOO.widget.Logger.disableBrowserConsole=function(){ YAHOO.log("Logger output to the function console.log() has been disabled."); this._browserConsoleEnabled=false; }; YAHOO.widget.Logger.enableBrowserConsole=function(){ this._browserConsoleEnabled=true; YAHOO.log("Logger output to the function console.log() has been enabled."); }; YAHOO.widget.Logger.categoryCreateEvent=new YAHOO.util.CustomEvent("categoryCreate",this,true); YAHOO.widget.Logger.sourceCreateEvent=new YAHOO.util.CustomEvent("sourceCreate",this,true); YAHOO.widget.Logger.newLogEvent=new YAHOO.util.CustomEvent("newLog",this,true); YAHOO.widget.Logger.logResetEvent=new YAHOO.util.CustomEvent("logReset",this,true); YAHOO.widget.Logger._createNewCategory=function(_6e){ this.categories.push(_6e); this.categoryCreateEvent.fire(_6e); }; YAHOO.widget.Logger._isNewCategory=function(_6f){ for(var i=0;i<this.categories.length;i++){ if(_6f==this.categories[i]){ return false; } } return true; }; YAHOO.widget.Logger._createNewSource=function(_71){ this.sources.push(_71); this.sourceCreateEvent.fire(_71); }; YAHOO.widget.Logger._isNewSource=function(_72){ if(_72){ for(var i=0;i<this.sources.length;i++){ if(_72==this.sources[i]){ return false; } } return true; } }; YAHOO.widget.Logger._printToBrowserConsole=function(_74){ if(window.console&&console.log){ var _75=_74.category; var _76=_74.category.substring(0,4).toUpperCase(); var _77=_74.time; if(_77.toLocaleTimeString){ var _78=_77.toLocaleTimeString(); }else{ _78=_77.toString(); } var _79=_77.getTime(); var _7a=(YAHOO.widget.Logger._lastTime)?(_79-YAHOO.widget.Logger._lastTime):0; YAHOO.widget.Logger._lastTime=_79; var _7b=_78+" ("+_7a+"ms): "+_74.source+": "+_74.msg; console.log(_7b); } }; YAHOO.widget.Logger._onWindowError=function(_7c,_7d,_7e){ try{ YAHOO.widget.Logger.log(_7c+" ("+_7d+", line "+_7e+")","window"); if(YAHOO.widget.Logger._origOnWindowError){ YAHOO.widget.Logger._origOnWindowError(); } } catch(e){ return false; } }; if(window.onerror){ YAHOO.widget.Logger._origOnWindowError=window.onerror; } window.onerror=YAHOO.widget.Logger._onWindowError; YAHOO.widget.Logger.log("Logger initialized"); YAHOO.register("logger",YAHOO.widget.Logger,{version:"2.2.0",build:"127"});  YAHOO.namespace("ext","ext.util","ext.grid"); YAHOO.ext.Strict=(document.compatMode=="CSS1Compat"); YAHOO.ext.SSL_SECURE_URL="javascript:false"; window.undefined=undefined; Function.prototype.createCallback=function(){ var _1=arguments; var _2=this; return function(){ return _2.apply(window,_1); }; }; Function.prototype.createDelegate=function(_3,_4,_5){ var _6=this; return function(){ var _7=_4||arguments; if(_5===true){ _7=Array.prototype.slice.call(arguments,0); _7=_7.concat(_4); }else{ if(typeof _5=="number"){ _7=Array.prototype.slice.call(arguments,0); var _8=[_5,0].concat(_4); Array.prototype.splice.apply(_7,_8); } } return _6.apply(_3||window,_7); }; }; Function.prototype.defer=function(_9,_a,_b,_c){ return setTimeout(this.createDelegate(_a,_b,_c),_9); }; Function.prototype.createSequence=function(_d,_e){ if(typeof _d!="function"){ return this; } var _f=this; return function(){ var _10=_f.apply(this||window,arguments); _d.apply(_e||this||window,arguments); return _10; }; }; YAHOO.util.Event.on(window,"unload",function(){ delete Function.prototype.createSequence; delete Function.prototype.defer; delete Function.prototype.createDelegate; delete Function.prototype.createCallback; delete Function.prototype.createInterceptor; }); Function.prototype.createInterceptor=function(fcn,_12){ if(typeof fcn!="function"){ return this; } var _13=this; return function(){ fcn.target=this; fcn.method=_13; if(fcn.apply(_12||this||window,arguments)===false){ return; } return _13.apply(this||window,arguments); }; }; YAHOO.ext.util.Browser=new function(){ var ua=navigator.userAgent.toLowerCase(); this.isOpera=(ua.indexOf("opera")>-1); this.isSafari=(ua.indexOf("webkit")>-1); this.isIE=(window.ActiveXObject); this.isIE7=(ua.indexOf("msie 7")>-1); this.isGecko=!this.isSafari&&(ua.indexOf("gecko")>-1); if(ua.indexOf("windows")!=-1||ua.indexOf("win32")!=-1){ this.isWindows=true; }else{ if(ua.indexOf("macintosh")!=-1){ this.isMac=true; } } if(this.isIE&&!this.isIE7){ try{ document.execCommand("BackgroundImageCache",false,true); } catch(e){ } } }(); YAHOO.print=function(_15,_16,etc){ if(!YAHOO.ext._console){ var cs=YAHOO.ext.DomHelper.insertBefore(document.body.firstChild,{tag:"div",style:"width:250px;height:350px;overflow:auto;border:3px solid #c3daf9;"+"background:white;position:absolute;right:5px;top:5px;"+"font:normal 8pt arial,verdana,helvetica;z-index:50000;padding:5px;"},true); new YAHOO.ext.Resizable(cs,{transparent:true,handles:"all",pinned:true,adjustments:[0,0],wrap:true,draggable:(YAHOO.util.DD?true:false)}); cs.on("dblclick",cs.hide); YAHOO.ext._console=cs; } var msg=""; for(var i=0,len=arguments.length;i<len;i++){ msg+=arguments[i]+"<hr noshade style=\"color:#eeeeee;\" size=\"1\">"; } YAHOO.ext._console.dom.innerHTML=msg+YAHOO.ext._console.dom.innerHTML; YAHOO.ext._console.dom.scrollTop=0; YAHOO.ext._console.show(); }; YAHOO.printf=function(_1c,_1d,_1e,etc){ var _20=Array.prototype.slice.call(arguments,1); YAHOO.print(_1c.replace(/\{\{[^{}]*\}\}|\{(\d+)(,\s*([\w.]+))?\}/g,function(m,a1,a2,a3){ if(m.chatAt=="{"){ return m.slice(1,-1); } var rpl=_20[a1]; if(a3){ var f=eval(a3); rpl=f(rpl); } return rpl?rpl:""; })); }; YAHOO.util.CustomEvent.prototype.fireDirect=function(){ var len=this.subscribers.length; for(var i=0;i<len;++i){ var s=this.subscribers[i]; if(s){ var _2a=(s.override)?s.obj:this.scope; if(s.fn.apply(_2a,arguments)===false){ return false; } } } return true; }; YAHOO.extendX=function(_2b,_2c,_2d){ YAHOO.extend(_2b,_2c); _2b.override=function(o){ YAHOO.override(_2b,o); }; if(!_2b.prototype.override){ _2b.prototype.override=function(o){ for(var _30 in o){ this[_30]=o[_30]; } }; } if(_2d){ _2b.override(_2d); } }; YAHOO.override=function(_31,_32){ if(_32){ var p=_31.prototype; for(var _34 in _32){ p[_34]=_32[_34]; } } }; YAHOO.ext.util.DelayedTask=function(fn,_36,_37){ var _38=null; this.delay=function(_39,_3a,_3b,_3c){ if(_38){ clearTimeout(_38); } fn=_3a||fn; _36=_3b||_36; _37=_3c||_37; _38=setTimeout(fn.createDelegate(_36,_37),_39); }; this.cancel=function(){ if(_38){ clearTimeout(_38); _38=null; } }; }; YAHOO.ext.KeyMap=function(el,_3e,_3f){ this.el=getEl(el); this.eventName=_3f||"keydown"; this.bindings=[]; if(_3e instanceof Array){ for(var i=0,len=_3e.length;i<len;i++){ this.addBinding(_3e[i]); } }else{ this.addBinding(_3e); } this.keyDownDelegate=YAHOO.ext.EventManager.wrap(this.handleKeyDown,this,true); this.enable(); }; YAHOO.ext.KeyMap.prototype={addBinding:function(_42){ var _43=_42.key,_44=_42.shift,_45=_42.ctrl,alt=_42.alt,fn=_42.fn,_48=_42.scope; if(typeof _43=="string"){ var ks=[]; var _4a=_43.toUpperCase(); for(var j=0,len=_4a.length;j<len;j++){ ks.push(_4a.charCodeAt(j)); } _43=ks; } var _4d=_43 instanceof Array; var _4e=function(e){ if((!_44||e.shiftKey)&&(!_45||e.ctrlKey)&&(!alt||e.altKey)){ var k=e.getKey(); if(_4d){ for(var i=0,len=_43.length;i<len;i++){ if(_43[i]==k){ fn.call(_48||window,k,e); return; } } }else{ if(k==_43){ fn.call(_48||window,k,e); } } } }; this.bindings.push(_4e); },handleKeyDown:function(e){ if(this.enabled){ var b=this.bindings; for(var i=0,len=b.length;i<len;i++){ b[i](e); } } },isEnabled:function(){ return this.enabled; },enable:function(){ if(!this.enabled){ this.el.on(this.eventName,this.keyDownDelegate); this.enabled=true; } },disable:function(){ if(this.enabled){ this.el.removeListener(this.eventName,this.keyDownDelegate); this.enabled=false; } }}; YAHOO.ext.util.Observable=function(){ }; YAHOO.ext.util.Observable.prototype={fireEvent:function(){ var ce=this.events[arguments[0].toLowerCase()]; if(typeof ce=="object"){ return ce.fireDirect.apply(ce,Array.prototype.slice.call(arguments,1)); }else{ return true; } },addListener:function(_57,fn,_59,_5a){ _57=_57.toLowerCase(); var ce=this.events[_57]; if(!ce){ throw "You are trying to listen for an event that does not exist: \""+_57+"\"."; } if(typeof ce=="boolean"){ ce=new YAHOO.util.CustomEvent(_57); this.events[_57]=ce; } ce.subscribe(fn,_59,_5a); },delayedListener:function(_5c,fn,_5e,_5f){ var _60=function(){ setTimeout(fn.createDelegate(_5e,arguments),_5f||1); }; this.addListener(_5c,_60); return _60; },bufferedListener:function(_61,fn,_63,_64){ var _65=new YAHOO.ext.util.DelayedTask(); var _66=function(){ _65.delay(_64||250,fn,_63,Array.prototype.slice.call(arguments,0)); }; this.addListener(_61,_66); return _66; },removeListener:function(_67,fn,_69){ var ce=this.events[_67.toLowerCase()]; if(typeof ce=="object"){ ce.unsubscribe(fn,_69); } },purgeListeners:function(){ for(var evt in this.events){ if(typeof this.events[evt]=="object"){ this.events[evt].unsubscribeAll(); } } }}; YAHOO.ext.util.Observable.prototype.on=YAHOO.ext.util.Observable.prototype.addListener; YAHOO.ext.util.Config={apply:function(obj,_6d,_6e){ if(_6e){ this.apply(obj,_6e); } if(_6d){ for(var _6f in _6d){ obj[_6f]=_6d[_6f]; } } return obj; }}; if(!String.escape){ String.escape=function(_70){ return _70.replace(/('|\\)/g,"\\$1"); }; } String.leftPad=function(val,_72,ch){ var _74=new String(val); if(ch==null){ ch=" "; } while(_74.length<_72){ _74=ch+_74; } return _74; }; if(YAHOO.util.Connect){ YAHOO.util.Connect.setHeader=function(o){ for(var _76 in this._http_header){ if(typeof this._http_header[_76]!="function"){ o.conn.setRequestHeader(_76,this._http_header[_76]); } } delete this._http_header; this._http_header={}; this._has_http_headers=false; }; } if(YAHOO.util.DragDrop){ YAHOO.util.DragDrop.prototype.defaultPadding={left:0,right:0,top:0,bottom:0}; YAHOO.util.DragDrop.prototype.constrainTo=function(_77,pad,_79){ if(typeof pad=="number"){ pad={left:pad,right:pad,top:pad,bottom:pad}; } pad=pad||this.defaultPadding; var b=getEl(this.getEl()).getBox(); var ce=getEl(_77); var c=ce.dom==document.body?{x:0,y:0,width:YAHOO.util.Dom.getViewportWidth(),height:YAHOO.util.Dom.getViewportHeight()}:ce.getBox(_79||false); var _7d=b.y-c.y; var _7e=b.x-c.x; this.resetConstraints(); this.setXConstraint(_7e-(pad.left||0),c.width-_7e-b.width-(pad.right||0)); this.setYConstraint(_7d-(pad.top||0),c.height-_7d-b.height-(pad.bottom||0)); }; } YAHOO.ext.Element=function(_7f,_80){ var dom=YAHOO.util.Dom.get(_7f); if(!dom){ return null; } if(!_80&&YAHOO.ext.Element.cache[dom.id]){ return YAHOO.ext.Element.cache[dom.id]; } this.dom=dom; this.id=this.dom.id; this.visibilityMode=YAHOO.ext.Element.VISIBILITY; this.originalDisplay=YAHOO.util.Dom.getStyle(this.dom,"display")||""; if(this.autoDisplayMode){ if(this.originalDisplay=="none"){ this.setVisibilityMode(YAHOO.ext.Element.DISPLAY); } } if(this.originalDisplay=="none"){ this.originalDisplay=""; } this.defaultUnit="px"; }; YAHOO.ext.Element.prototype={setVisibilityMode:function(_82){ this.visibilityMode=_82; return this; },enableDisplayMode:function(_83){ this.setVisibilityMode(YAHOO.ext.Element.DISPLAY); if(typeof _83!="undefined"){ this.originalDisplay=_83; } return this; },animate:function(_84,_85,_86,_87,_88){ this.anim(_84,_85,_86,_87,_88); return this; },anim:function(_89,_8a,_8b,_8c,_8d){ _8d=_8d||YAHOO.util.Anim; var _8e=new _8d(this.dom,_89,_8a||0.35,_8c||YAHOO.util.Easing.easeBoth); if(_8b){ if(!(_8b instanceof Array)){ _8e.onComplete.subscribe(_8b,this,true); }else{ for(var i=0;i<_8b.length;i++){ var fn=_8b[i]; if(fn){ _8e.onComplete.subscribe(fn,this,true); } } } } _8e.animate(); },scrollIntoView:function(_91){ var c=getEl(_91||document.body,true); var cp=c.getStyle("position"); var _94=false; if(cp!="relative"&&cp!="absolute"){ c.setStyle("position","relative"); _94=true; } var el=this.dom; var _96=parseInt(el.offsetTop,10); var _97=_96+el.offsetHeight; var _98=parseInt(c.scrollTop,10); var _99=_98+c.clientHeight; if(_96<_98){ c.scrollTop=_96; }else{ if(_97>_99){ c.scrollTop=_97-c.clientHeight; } } if(_94){ c.setStyle("position",cp); } return this; },autoHeight:function(_9a,_9b,_9c,_9d){ var _9e=this.getHeight(); this.clip(); this.setHeight(1); setTimeout(function(){ var _9f=parseInt(this.dom.scrollHeight,10); if(!_9a){ this.setHeight(_9f); this.unclip(); if(typeof _9c=="function"){ _9c(); } }else{ this.setHeight(_9e); this.setHeight(_9f,_9a,_9b,function(){ this.unclip(); if(typeof _9c=="function"){ _9c(); } }.createDelegate(this),_9d); } }.createDelegate(this),0); return this; },isVisible:function(_a0){ var vis=YAHOO.util.Dom.getStyle(this.dom,"visibility")!="hidden"&&YAHOO.util.Dom.getStyle(this.dom,"display")!="none"; if(!_a0||!vis){ return vis; } var p=this.dom.parentNode; while(p&&p.tagName.toLowerCase()!="body"){ if(YAHOO.util.Dom.getStyle(p,"visibility")=="hidden"||YAHOO.util.Dom.getStyle(p,"display")=="none"){ return false; } p=p.parentNode; } return true; },select:function(_a3,_a4){ return YAHOO.ext.Element.select("#"+this.dom.id+" "+_a3,_a4); },initDD:function(_a5,_a6,_a7){ var dd=new YAHOO.util.DD(YAHOO.util.Dom.generateId(this.dom),_a5,_a6); return YAHOO.ext.util.Config.apply(dd,_a7); },initDDProxy:function(_a9,_aa,_ab){ var dd=new YAHOO.util.DDProxy(YAHOO.util.Dom.generateId(this.dom),_a9,_aa); return YAHOO.ext.util.Config.apply(dd,_ab); },initDDTarget:function(_ad,_ae,_af){ var dd=new YAHOO.util.DDTarget(YAHOO.util.Dom.generateId(this.dom),_ad,_ae); return YAHOO.ext.util.Config.apply(dd,_af); },setVisible:function(_b1,_b2,_b3,_b4,_b5){ if(!_b2||!YAHOO.util.Anim){ if(this.visibilityMode==YAHOO.ext.Element.DISPLAY){ this.setDisplayed(_b1); }else{ YAHOO.util.Dom.setStyle(this.dom,"visibility",_b1?"visible":"hidden"); } }else{ this.setOpacity(_b1?0:1); YAHOO.util.Dom.setStyle(this.dom,"visibility","visible"); if(this.visibilityMode==YAHOO.ext.Element.DISPLAY){ this.setDisplayed(true); } var _b6={opacity:{from:(_b1?0:1),to:(_b1?1:0)}}; var _b7=new YAHOO.util.Anim(this.dom,_b6,_b3||0.35,_b5||(_b1?YAHOO.util.Easing.easeIn:YAHOO.util.Easing.easeOut)); _b7.onComplete.subscribe((function(){ if(this.visibilityMode==YAHOO.ext.Element.DISPLAY){ this.setDisplayed(_b1); }else{ YAHOO.util.Dom.setStyle(this.dom,"visibility",_b1?"visible":"hidden"); } }).createDelegate(this)); if(_b4){ _b7.onComplete.subscribe(_b4); } _b7.animate(); } return this; },isDisplayed:function(){ return YAHOO.util.Dom.getStyle(this.dom,"display")!="none"; },toggle:function(_b8,_b9,_ba,_bb){ this.setVisible(!this.isVisible(),_b8,_b9,_ba,_bb); return this; },setDisplayed:function(_bc){ if(typeof _bc=="boolean"){ _bc=_bc?this.originalDisplay:"none"; } YAHOO.util.Dom.setStyle(this.dom,"display",_bc); return this; },focus:function(){ try{ this.dom.focus(); } catch(e){ } return this; },blur:function(){ try{ this.dom.blur(); } catch(e){ } return this; },addClass:function(_bd){ if(_bd instanceof Array){ for(var i=0,len=_bd.length;i<len;i++){ this.addClass(_bd[i]); } }else{ if(!this.hasClass(_bd)){ this.dom.className=this.dom.className+" "+_bd; } } return this; },radioClass:function(_c0){ var _c1=this.dom.parentNode.childNodes; for(var i=0;i<_c1.length;i++){ var s=_c1[i]; if(s.nodeType==1){ YAHOO.util.Dom.removeClass(s,_c0); } } this.addClass(_c0); return this; },removeClass:function(_c4){ if(_c4 instanceof Array){ for(var i=0,len=_c4.length;i<len;i++){ this.removeClass(_c4[i]); } }else{ var re=new RegExp("(?:^|\\s+)"+_c4+"(?:\\s+|$)","g"); var c=this.dom.className; if(re.test(c)){ this.dom.className=c.replace(re," "); } } return this; },toggleClass:function(_c9){ if(this.hasClass(_c9)){ this.removeClass(_c9); }else{ this.addClass(_c9); } return this; },hasClass:function(_ca){ var re=new RegExp("(?:^|\\s+)"+_ca+"(?:\\s+|$)"); return re.test(this.dom.className); },replaceClass:function(_cc,_cd){ this.removeClass(_cc); this.addClass(_cd); return this; },getStyle:function(_ce){ return YAHOO.util.Dom.getStyle(this.dom,_ce); },setStyle:function(_cf,_d0){ if(typeof _cf=="string"){ YAHOO.util.Dom.setStyle(this.dom,_cf,_d0); }else{ var D=YAHOO.util.Dom; for(var _d2 in _cf){ if(typeof _cf[_d2]!="function"){ D.setStyle(this.dom,_d2,_cf[_d2]); } } } return this; },applyStyles:function(_d3){ YAHOO.ext.DomHelper.applyStyles(this.dom,_d3); },getX:function(){ return YAHOO.util.Dom.getX(this.dom); },getY:function(){ return YAHOO.util.Dom.getY(this.dom); },getXY:function(){ return YAHOO.util.Dom.getXY(this.dom); },setX:function(x,_d5,_d6,_d7,_d8){ if(!_d5||!YAHOO.util.Anim){ YAHOO.util.Dom.setX(this.dom,x); }else{ this.setXY([x,this.getY()],_d5,_d6,_d7,_d8); } return this; },setY:function(y,_da,_db,_dc,_dd){ if(!_da||!YAHOO.util.Anim){ YAHOO.util.Dom.setY(this.dom,y); }else{ this.setXY([this.getX(),y],_da,_db,_dc,_dd); } return this; },setLeft:function(_de){ YAHOO.util.Dom.setStyle(this.dom,"left",this.addUnits(_de)); return this; },setTop:function(top){ YAHOO.util.Dom.setStyle(this.dom,"top",this.addUnits(top)); return this; },setRight:function(_e0){ YAHOO.util.Dom.setStyle(this.dom,"right",this.addUnits(_e0)); return this; },setBottom:function(_e1){ YAHOO.util.Dom.setStyle(this.dom,"bottom",this.addUnits(_e1)); return this; },setXY:function(pos,_e3,_e4,_e5,_e6){ if(!_e3||!YAHOO.util.Anim){ YAHOO.util.Dom.setXY(this.dom,pos); }else{ this.anim({points:{to:pos}},_e4,_e5,_e6,YAHOO.util.Motion); } return this; },setLocation:function(x,y,_e9,_ea,_eb,_ec){ this.setXY([x,y],_e9,_ea,_eb,_ec); return this; },moveTo:function(x,y,_ef,_f0,_f1,_f2){ this.setXY([x,y],_ef,_f0,_f1,_f2); return this; },getRegion:function(){ return YAHOO.util.Dom.getRegion(this.dom); },getHeight:function(_f3){ var h=this.dom.offsetHeight; return _f3!==true?h:h-this.getBorderWidth("tb")-this.getPadding("tb"); },getWidth:function(_f5){ var w=this.dom.offsetWidth; return _f5!==true?w:w-this.getBorderWidth("lr")-this.getPadding("lr"); },getSize:function(_f7){ return {width:this.getWidth(_f7),height:this.getHeight(_f7)}; },adjustWidth:function(_f8){ if(typeof _f8=="number"){ if(this.autoBoxAdjust&&!this.isBorderBox()){ _f8-=(this.getBorderWidth("lr")+this.getPadding("lr")); } if(_f8<0){ _f8=0; } } return _f8; },adjustHeight:function(_f9){ if(typeof _f9=="number"){ if(this.autoBoxAdjust&&!this.isBorderBox()){ _f9-=(this.getBorderWidth("tb")+this.getPadding("tb")); } if(_f9<0){ _f9=0; } } return _f9; },setWidth:function(_fa,_fb,_fc,_fd,_fe){ _fa=this.adjustWidth(_fa); if(!_fb||!YAHOO.util.Anim){ YAHOO.util.Dom.setStyle(this.dom,"width",this.addUnits(_fa)); }else{ this.anim({width:{to:_fa}},_fc,_fd,_fe||(_fa>this.getWidth()?YAHOO.util.Easing.easeOut:YAHOO.util.Easing.easeIn)); } return this; },setHeight:function(_ff,_100,_101,_102,_103){ _ff=this.adjustHeight(_ff); if(!_100||!YAHOO.util.Anim){ YAHOO.util.Dom.setStyle(this.dom,"height",this.addUnits(_ff)); }else{ this.anim({height:{to:_ff}},_101,_102,_103||(_ff>this.getHeight()?YAHOO.util.Easing.easeOut:YAHOO.util.Easing.easeIn)); } return this; },setSize:function(_104,_105,_106,_107,_108,_109){ if(!_106||!YAHOO.util.Anim){ this.setWidth(_104); this.setHeight(_105); }else{ _104=this.adjustWidth(_104); _105=this.adjustHeight(_105); this.anim({width:{to:_104},height:{to:_105}},_107,_108,_109); } return this; },setBounds:function(x,y,_10c,_10d,_10e,_10f,_110,_111){ if(!_10e||!YAHOO.util.Anim){ this.setWidth(_10c); this.setHeight(_10d); this.setLocation(x,y); }else{ _10c=this.adjustWidth(_10c); _10d=this.adjustHeight(_10d); this.anim({points:{to:[x,y]},width:{to:_10c},height:{to:_10d}},_10f,_110,_111,YAHOO.util.Motion); } return this; },setRegion:function(_112,_113,_114,_115,_116){ this.setBounds(_112.left,_112.top,_112.right-_112.left,_112.bottom-_112.top,_113,_114,_115,_116); return this; },addListener:function(_117,_118,_119,_11a){ YAHOO.util.Event.addListener(this.dom,_117,_118,_119||this,true); return this; },bufferedListener:function(_11b,fn,_11d,_11e){ var task=new YAHOO.ext.util.DelayedTask(); _11d=_11d||this; var _120=function(){ task.delay(_11e||250,fn,_11d,Array.prototype.slice.call(arguments,0)); }; this.addListener(_11b,_120); return _120; },addHandler:function(_121,_122,_123,_124,_125){ var fn=YAHOO.ext.Element.createStopHandler(_122,_123,_124||this,true); YAHOO.util.Event.addListener(this.dom,_121,fn); return this; },on:function(_127,_128,_129,_12a){ YAHOO.util.Event.addListener(this.dom,_127,_128,_129||this,true); return this; },addManagedListener:function(_12b,fn,_12d,_12e){ return YAHOO.ext.EventManager.on(this.dom,_12b,fn,_12d||this,true); },mon:function(_12f,fn,_131,_132){ return YAHOO.ext.EventManager.on(this.dom,_12f,fn,_131||this,true); },removeListener:function(_133,_134,_135){ YAHOO.util.Event.removeListener(this.dom,_133,_134); return this; },removeAllListeners:function(){ YAHOO.util.Event.purgeElement(this.dom); return this; },setOpacity:function(_136,_137,_138,_139,_13a){ if(!_137||!YAHOO.util.Anim){ YAHOO.util.Dom.setStyle(this.dom,"opacity",_136); }else{ this.anim({opacity:{to:_136}},_138,_139,_13a); } return this; },getLeft:function(_13b){ if(!_13b){ return this.getX(); }else{ return parseInt(this.getStyle("left"),10)||0; } },getRight:function(_13c){ if(!_13c){ return this.getX()+this.getWidth(); }else{ return (this.getLeft(true)+this.getWidth())||0; } },getTop:function(_13d){ if(!_13d){ return this.getY(); }else{ return parseInt(this.getStyle("top"),10)||0; } },getBottom:function(_13e){ if(!_13e){ return this.getY()+this.getHeight(); }else{ return (this.getTop(true)+this.getHeight())||0; } },setAbsolutePositioned:function(_13f){ this.setStyle("position","absolute"); if(_13f){ this.setStyle("z-index",_13f); } return this; },setRelativePositioned:function(_140){ this.setStyle("position","relative"); if(_140){ this.setStyle("z-index",_140); } return this; },clearPositioning:function(){ this.setStyle("position",""); this.setStyle("left",""); this.setStyle("right",""); this.setStyle("top",""); this.setStyle("bottom",""); return this; },getPositioning:function(){ return {"position":this.getStyle("position"),"left":this.getStyle("left"),"right":this.getStyle("right"),"top":this.getStyle("top"),"bottom":this.getStyle("bottom")}; },getBorderWidth:function(side){ return this.addStyles(side,YAHOO.ext.Element.borders); },getPadding:function(side){ return this.addStyles(side,YAHOO.ext.Element.paddings); },setPositioning:function(_143){ if(_143.position){ this.setStyle("position",_143.position); } if(_143.left){ this.setLeft(_143.left); } if(_143.right){ this.setRight(_143.right); } if(_143.top){ this.setTop(_143.top); } if(_143.bottom){ this.setBottom(_143.bottom); } return this; },setLeftTop:function(left,top){ this.dom.style.left=this.addUnits(left); this.dom.style.top=this.addUnits(top); return this; },move:function(_146,_147,_148,_149,_14a,_14b){ var xy=this.getXY(); _146=_146.toLowerCase(); switch(_146){ case "l": case "left": this.moveTo(xy[0]-_147,xy[1],_148,_149,_14a,_14b); break; case "r": case "right": this.moveTo(xy[0]+_147,xy[1],_148,_149,_14a,_14b); break; case "t": case "top": case "up": this.moveTo(xy[0],xy[1]-_147,_148,_149,_14a,_14b); break; case "b": case "bottom": case "down": this.moveTo(xy[0],xy[1]+_147,_148,_149,_14a,_14b); break; } return this; },clip:function(){ if(!this.isClipped){ this.isClipped=true; this.originalClip={"o":this.getStyle("overflow"),"x":this.getStyle("overflow-x"),"y":this.getStyle("overflow-y")}; this.setStyle("overflow","hidden"); this.setStyle("overflow-x","hidden"); this.setStyle("overflow-y","hidden"); } return this; },unclip:function(){ if(this.isClipped){ this.isClipped=false; var o=this.originalClip; if(o.o){ this.setStyle("overflow",o.o); } if(o.x){ this.setStyle("overflow-x",o.x); } if(o.y){ this.setStyle("overflow-y",o.y); } } return this; },alignTo:function(_14e,_14f,_150,_151,_152,_153,_154){ var _155=getEl(_14e); if(!_155){ return this; } _150=_150||[0,0]; var r=_155.getRegion(); _14f=_14f.toLowerCase(); switch(_14f){ case "bl": this.moveTo(r.left+_150[0],r.bottom+_150[1],_151,_152,_153,_154); break; case "br": this.moveTo(r.right+_150[0],r.bottom+_150[1],_151,_152,_153,_154); break; case "tl": this.moveTo(r.left+_150[0],r.top+_150[1],_151,_152,_153,_154); break; case "tr": this.moveTo(r.right+_150[0],r.top+_150[1],_151,_152,_153,_154); break; } return this; },clearOpacity:function(){ if(window.ActiveXObject){ this.dom.style.filter=""; }else{ this.dom.style.opacity=""; this.dom.style["-moz-opacity"]=""; this.dom.style["-khtml-opacity"]=""; } return this; },hide:function(_157,_158,_159,_15a){ this.setVisible(false,_157,_158,_159,_15a); return this; },show:function(_15b,_15c,_15d,_15e){ this.setVisible(true,_15b,_15c,_15d,_15e); return this; },addUnits:function(size){ if(size===""||size=="auto"||typeof size=="undefined"){ return size; } if(typeof size=="number"||!YAHOO.ext.Element.unitPattern.test(size)){ return size+this.defaultUnit; } return size; },beginMeasure:function(){ var el=this.dom; if(el.offsetWidth||el.offsetHeight){ return this; } var _161=[]; var p=this.dom; while((!el.offsetWidth&&!el.offsetHeight)&&p&&p.tagName&&p.tagName.toLowerCase()!="body"){ if(YAHOO.util.Dom.getStyle(p,"display")=="none"){ _161.push({el:p,visibility:YAHOO.util.Dom.getStyle(p,"visibility")}); p.style.visibility="hidden"; p.style.display="block"; } p=p.parentNode; } this._measureChanged=_161; return this; },endMeasure:function(){ var _163=this._measureChanged; if(_163){ for(var i=0,len=_163.length;i<len;i++){ var r=_163[i]; r.el.style.visibility=r.visibility; r.el.style.display="none"; } this._measureChanged=null; } return this; },update:function(html,_168,_169){ if(typeof html=="undefined"){ html=""; } if(_168!==true){ this.dom.innerHTML=html; if(typeof _169=="function"){ _169(); } return this; } var id=YAHOO.util.Dom.generateId(); var dom=this.dom; html+="<span id=\""+id+"\"></span>"; YAHOO.util.Event.onAvailable(id,function(){ var hd=document.getElementsByTagName("head")[0]; var re=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/img; var _16e=/\ssrc=([\'\"])(.*?)\1/i; var _16f; while(_16f=re.exec(html)){ var _170=_16f[0].match(_16e); if(_170&&_170[2]){ var s=document.createElement("script"); s.src=_170[2]; hd.appendChild(s); }else{ if(_16f[1]&&_16f[1].length>0){ eval(_16f[1]); } } } var el=document.getElementById(id); if(el){ el.parentNode.removeChild(el); } if(typeof _169=="function"){ _169(); } }); dom.innerHTML=html.replace(/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/img,""); return this; },load:function(){ var um=this.getUpdateManager(); um.update.apply(um,arguments); return this; },getUpdateManager:function(){ if(!this.updateManager){ this.updateManager=new YAHOO.ext.UpdateManager(this); } return this.updateManager; },unselectable:function(){ this.dom.unselectable="on"; this.swallowEvent("selectstart",true); this.applyStyles("-moz-user-select:none;-khtml-user-select:none;"); return this; },getCenterXY:function(_174){ var _175=Math.round((YAHOO.util.Dom.getViewportWidth()-this.getWidth())/2); var _176=Math.round((YAHOO.util.Dom.getViewportHeight()-this.getHeight())/2); if(!_174){ return [_175,_176]; }else{ var _177=document.documentElement.scrollLeft||document.body.scrollLeft||0; var _178=document.documentElement.scrollTop||document.body.scrollTop||0; return [_175+_177,_176+_178]; } },center:function(_179){ if(!_179){ this.setXY(this.getCenterXY(true)); }else{ var box=YAHOO.ext.Element.get(_179).getBox(); this.setXY([box.x+(box.width/2)-(this.getWidth()/2),box.y+(box.height/2)-(this.getHeight()/2)]); } return this; },getChildrenByTagName:function(_17b){ var _17c=this.dom.getElementsByTagName(_17b); var len=_17c.length; var ce=new Array(len); for(var i=0;i<len;++i){ ce[i]=YAHOO.ext.Element.get(_17c[i],true); } return ce; },getChildrenByClassName:function(_180,_181){ var _182=YAHOO.util.Dom.getElementsByClassName(_180,_181,this.dom); var len=_182.length; var ce=new Array(len); for(var i=0;i<len;++i){ ce[i]=YAHOO.ext.Element.get(_182[i],true); } return ce; },isBorderBox:function(){ if(typeof this.bbox=="undefined"){ var el=this.dom; var b=YAHOO.ext.util.Browser; var _188=YAHOO.ext.Strict; this.bbox=((b.isIE&&!_188&&el.style.boxSizing!="content-box")||(b.isGecko&&YAHOO.util.Dom.getStyle(el,"-moz-box-sizing")=="border-box")||(!b.isSafari&&YAHOO.util.Dom.getStyle(el,"box-sizing")=="border-box")); } return this.bbox; },getBox:function(_189,_18a){ var xy; if(!_18a){ xy=this.getXY(); }else{ var left=parseInt(YAHOO.util.Dom.getStyle("left"),10)||0; var top=parseInt(YAHOO.util.Dom.getStyle("top"),10)||0; xy=[left,top]; } var el=this.dom; var w=el.offsetWidth; var h=el.offsetHeight; if(!_189){ return {x:xy[0],y:xy[1],width:w,height:h}; }else{ var l=this.getBorderWidth("l")+this.getPadding("l"); var r=this.getBorderWidth("r")+this.getPadding("r"); var t=this.getBorderWidth("t")+this.getPadding("t"); var b=this.getBorderWidth("b")+this.getPadding("b"); return {x:xy[0]+l,y:xy[1]+t,width:w-(l+r),height:h-(t+b)}; } },setBox:function(box,_196,_197,_198,_199,_19a){ var w=box.width,h=box.height; if((_196&&!this.autoBoxAdjust)&&!this.isBorderBox()){ w-=(this.getBorderWidth("lr")+this.getPadding("lr")); h-=(this.getBorderWidth("tb")+this.getPadding("tb")); } this.setBounds(box.x,box.y,w,h,_197,_198,_199,_19a); return this; },repaint:function(){ var dom=this.dom; YAHOO.util.Dom.addClass(dom,"yui-ext-repaint"); setTimeout(function(){ YAHOO.util.Dom.removeClass(dom,"yui-ext-repaint"); },1); return this; },getMargins:function(side){ if(!side){ return {top:parseInt(this.getStyle("margin-top"),10)||0,left:parseInt(this.getStyle("margin-left"),10)||0,bottom:parseInt(this.getStyle("margin-bottom"),10)||0,right:parseInt(this.getStyle("margin-right"),10)||0}; }else{ return this.addStyles(side,YAHOO.ext.Element.margins); } },addStyles:function(_19f,_1a0){ var val=0; for(var i=0,len=_19f.length;i<len;i++){ var w=parseInt(this.getStyle(_1a0[_19f.charAt(i)]),10); if(!isNaN(w)){ val+=w; } } return val; },createProxy:function(_1a5,_1a6,_1a7){ if(_1a6){ _1a6=YAHOO.util.Dom.get(_1a6); }else{ _1a6=document.body; } _1a5=typeof _1a5=="object"?_1a5:{tag:"div",cls:_1a5}; var _1a8=YAHOO.ext.DomHelper.append(_1a6,_1a5,true); if(_1a7){ _1a8.setBox(this.getBox()); } return _1a8; },createShim:function(){ var _1a9={tag:"iframe",frameBorder:"no",cls:"yiframe-shim",style:"position:absolute;visibility:hidden;left:0;top:0;overflow:hidden;",src:YAHOO.ext.SSL_SECURE_URL}; var shim=YAHOO.ext.DomHelper.append(this.dom.parentNode,_1a9,true); shim.setBox(this.getBox()); return shim; },remove:function(){ this.dom.parentNode.removeChild(this.dom); delete YAHOO.ext.Element.cache[this.dom.id]; },addClassOnOver:function(_1ab){ this.on("mouseover",function(){ this.addClass(_1ab); },this,true); this.on("mouseout",function(){ this.removeClass(_1ab); },this,true); return this; },swallowEvent:function(_1ac,_1ad){ var fn=function(e){ e.stopPropagation(); if(_1ad){ e.preventDefault(); } }; this.mon(_1ac,fn); return this; },fitToParent:function(_1b0){ var p=getEl(this.dom.parentNode,true); p.beginMeasure(); var box=p.getBox(true,true); p.endMeasure(); this.setSize(box.width,box.height); if(_1b0===true){ YAHOO.ext.EventManager.onWindowResize(this.fitToParent,this,true); } return this; },getNextSibling:function(){ var n=this.dom.nextSibling; while(n&&n.nodeType!=1){ n=n.nextSibling; } return n; },getPrevSibling:function(){ var n=this.dom.previousSibling; while(n&&n.nodeType!=1){ n=n.previousSibling; } return n; },appendChild:function(el){ el=getEl(el); el.appendTo(this); return this; },createChild:function(_1b6,_1b7){ var c; if(_1b7){ c=YAHOO.ext.DomHelper.insertBefore(_1b7,_1b6,true); }else{ c=YAHOO.ext.DomHelper.append(this.dom,_1b6,true); } return c; },appendTo:function(el){ var node=getEl(el).dom; node.appendChild(this.dom); return this; },insertBefore:function(el){ var node=getEl(el).dom; node.parentNode.insertBefore(this.dom,node); return this; },insertAfter:function(el){ var node=getEl(el).dom; node.parentNode.insertBefore(this.dom,node.nextSibling); return this; },wrap:function(_1bf){ if(!_1bf){ _1bf={tag:"div"}; } var _1c0=YAHOO.ext.DomHelper.insertBefore(this.dom,_1bf,true); _1c0.dom.appendChild(this.dom); return _1c0; },replace:function(el){ el=getEl(el); this.insertBefore(el); el.remove(); return this; },insertHtml:function(_1c2,html){ YAHOO.ext.DomHelper.insertHtml(_1c2,this.dom,html); return this; },set:function(o){ var el=this.dom; var _1c6=el.setAttribute?true:false; for(var attr in o){ if(attr=="style"||typeof o[attr]=="function"){ continue; } if(attr=="cls"){ el.className=o["cls"]; }else{ if(_1c6){ el.setAttribute(attr,o[attr]); }else{ el[attr]=o[attr]; } } } YAHOO.ext.DomHelper.applyStyles(el,o.style); return this; },addKeyListener:function(key,fn,_1ca){ var _1cb; if(typeof key!="object"||key instanceof Array){ _1cb={key:key,fn:fn,scope:_1ca}; }else{ _1cb={key:key.key,shift:key.shift,ctrl:key.ctrl,alt:key.alt,fn:fn,scope:_1ca}; } var map=new YAHOO.ext.KeyMap(this,_1cb); return map; },addKeyMap:function(_1cd){ return new YAHOO.ext.KeyMap(this,_1cd); }}; YAHOO.ext.Element.prototype.autoBoxAdjust=true; YAHOO.ext.Element.prototype.autoDisplayMode=true; YAHOO.ext.Element.unitPattern=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i; YAHOO.ext.Element.VISIBILITY=1; YAHOO.ext.Element.DISPLAY=2; YAHOO.ext.Element.blockElements=/^(?:address|blockquote|center|dir|div|dl|fieldset|form|h\d|hr|isindex|menu|ol|ul|p|pre|table|dd|dt|li|tbody|tr|td|thead|tfoot|iframe)$/i; YAHOO.ext.Element.borders={l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"}; YAHOO.ext.Element.paddings={l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"}; YAHOO.ext.Element.margins={l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"}; YAHOO.ext.Element.createStopHandler=function(_1ce,_1cf,_1d0,_1d1){ return function(e){ if(e){ if(_1ce){ YAHOO.util.Event.stopEvent(e); }else{ YAHOO.util.Event.preventDefault(e); } } _1cf.call(_1d1&&_1d0?_1d0:window,e,_1d0); }; }; YAHOO.ext.Element.cache={}; YAHOO.ext.Element.get=function(el,_1d4){ if(!el){ return null; } _1d4=true; if(el instanceof YAHOO.ext.Element){ el.dom=YAHOO.util.Dom.get(el.id); YAHOO.ext.Element.cache[el.id]=el; return el; }else{ if(el.isComposite){ return el; }else{ if(el instanceof Array){ return YAHOO.ext.Element.select(el); }else{ if(el===document){ if(!YAHOO.ext.Element.cache["__ydocument"]){ var _1d5=function(){ }; _1d5.prototype=YAHOO.ext.Element.prototype; var o=new _1d5(); o.dom=document; YAHOO.ext.Element.cache["__ydocument"]=o; } return YAHOO.ext.Element.cache["__ydocument"]; } } } } var key=el; if(typeof el!="string"){ if(!el.id&&!_1d4){ return null; } YAHOO.util.Dom.generateId(el,"elgen-"); key=el.id; } var _1d8=YAHOO.ext.Element.cache[key]; if(!_1d8){ _1d8=new YAHOO.ext.Element(key); if(!_1d8.dom){ return null; } YAHOO.ext.Element.cache[key]=_1d8; }else{ _1d8.dom=YAHOO.util.Dom.get(key); } return _1d8; }; var getEl=YAHOO.ext.Element.get; YAHOO.util.Event.addListener(window,"unload",function(){ YAHOO.ext.Element.cache=null; }); YAHOO.ext.CompositeElement=function(els){ this.elements=[]; this.addElements(els); }; YAHOO.ext.CompositeElement.prototype={isComposite:true,addElements:function(els){ if(!els){ return this; } var yels=this.elements; var _1dc=yels.length-1; for(var i=0,len=els.length;i<len;i++){ yels[++_1dc]=getEl(els[i],true); } return this; },invoke:function(fn,args){ var els=this.elements; for(var i=0,len=els.length;i<len;i++){ YAHOO.ext.Element.prototype[fn].apply(els[i],args); } return this; },add:function(els){ if(typeof els=="string"){ this.addElements(YAHOO.ext.Element.selectorFunction(string)); }else{ if(els instanceof Array){ this.addElements(els); }else{ this.addElements([els]); } } return this; },each:function(fn,_1e6){ var els=this.elements; for(var i=0,len=els.length;i<len;i++){ fn.call(_1e6||els[i],els[i],this,i); } return this; }}; YAHOO.ext.CompositeElementLite=function(els){ YAHOO.ext.CompositeElementLite.superclass.constructor.call(this,els); this.el=YAHOO.ext.Element.get(this.elements[0],true); }; YAHOO.extendX(YAHOO.ext.CompositeElementLite,YAHOO.ext.CompositeElement,{addElements:function(els){ if(els){ this.elements=this.elements.concat(els); } return this; },invoke:function(fn,args){ var els=this.elements; var el=this.el; for(var i=0,len=els.length;i<len;i++){ el.dom=els[i]; YAHOO.ext.Element.prototype[fn].apply(el,args); } return this; }}); YAHOO.ext.CompositeElement.createCall=function(_1f2,_1f3){ if(!_1f2[_1f3]){ _1f2[_1f3]=function(){ return this.invoke(_1f3,arguments); }; } }; for(var fnName in YAHOO.ext.Element.prototype){ if(typeof YAHOO.ext.Element.prototype[fnName]=="function"){ YAHOO.ext.CompositeElement.createCall(YAHOO.ext.CompositeElement.prototype,fnName); } } if(typeof cssQuery=="function"){ YAHOO.ext.Element.selectorFunction=cssQuery; }else{ if(typeof document.getElementsBySelector=="function"){ YAHOO.ext.Element.selectorFunction=document.getElementsBySelector.createDelegate(document); } } YAHOO.ext.Element.select=function(_1f4,_1f5){ var els; if(typeof _1f4=="string"){ els=YAHOO.ext.Element.selectorFunction(_1f4); }else{ if(_1f4 instanceof Array){ els=_1f4; }else{ throw "Invalid selector"; } } if(_1f5===true){ return new YAHOO.ext.CompositeElement(els); }else{ return new YAHOO.ext.CompositeElementLite(els); } }; var getEls=YAHOO.ext.Element.select; YAHOO.ext.DomHelper=new function(){ var d=document; var _1f8=null; this.useDom=false; var _1f9=/^(?:base|basefont|br|frame|hr|img|input|isindex|link|meta|nextid|range|spacer|wbr|audioscope|area|param|keygen|col|limittext|spot|tab|over|right|left|choose|atop|of)$/i; this.applyStyles=function(el,_1fb){ if(_1fb){ var D=YAHOO.util.Dom; if(typeof _1fb=="string"){ var re=/\s?([a-z\-]*)\:([^;]*);?/gi; var _1fe; while((_1fe=re.exec(_1fb))!=null){ D.setStyle(el,_1fe[1],_1fe[2]); } }else{ if(typeof _1fb=="object"){ for(var _1ff in _1fb){ D.setStyle(el,_1ff,_1fb[_1ff]); } }else{ if(typeof _1fb=="function"){ YAHOO.ext.DomHelper.applyStyles(el,_1fb.call()); } } } } }; var _200=function(o){ var b=""; b+="<"+o.tag; for(var attr in o){ if(attr=="tag"||attr=="children"||attr=="html"||typeof o[attr]=="function"){ continue; } if(attr=="style"){ var s=o["style"]; if(typeof s=="function"){ s=s.call(); } if(typeof s=="string"){ b+=" style=\""+s+"\""; }else{ if(typeof s=="object"){ b+=" style=\""; for(var key in s){ if(typeof s[key]!="function"){ b+=key+":"+s[key]+";"; } } b+="\""; } } }else{ if(attr=="cls"){ b+=" class=\""+o["cls"]+"\""; }else{ if(attr=="htmlFor"){ b+=" for=\""+o["htmlFor"]+"\""; }else{ b+=" "+attr+"=\""+o[attr]+"\""; } } } } if(_1f9.test(o.tag)){ b+=" />"; }else{ b+=">"; if(o.children){ for(var i=0,len=o.children.length;i<len;i++){ b+=_200(o.children[i],b); } } if(o.html){ b+=o.html; } b+="</"+o.tag+">"; } return b; }; var _208=function(o,_20a){ var el=d.createElement(o.tag); var _20c=el.setAttribute?true:false; for(var attr in o){ if(attr=="tag"||attr=="children"||attr=="html"||attr=="style"||typeof o[attr]=="function"){ continue; } if(attr=="cls"){ el.className=o["cls"]; }else{ if(_20c){ el.setAttribute(attr,o[attr]); }else{ el[attr]=o[attr]; } } } YAHOO.ext.DomHelper.applyStyles(el,o.style); if(o.children){ for(var i=0,len=o.children.length;i<len;i++){ _208(o.children[i],el); } } if(o.html){ el.innerHTML=o.html; } if(_20a){ _20a.appendChild(el); } return el; }; var _210=function(tag,_212,el,html){ if(!_1f8){ _1f8=document.createElement("div"); } var node; if(tag=="table"||tag=="tbody"){ _1f8.innerHTML="<table><tbody>"+html+"</tbody></table>"; node=_1f8.firstChild.firstChild.firstChild; }else{ _1f8.innerHTML="<table><tbody><tr>"+html+"</tr></tbody></table>"; node=_1f8.firstChild.firstChild.firstChild.firstChild; } if(_212=="beforebegin"){ el.parentNode.insertBefore(node,el); return node; }else{ if(_212=="afterbegin"){ el.insertBefore(node,el.firstChild); return node; }else{ if(_212=="beforeend"){ el.appendChild(node); return node; }else{ if(_212=="afterend"){ el.parentNode.insertBefore(node,el.nextSibling); return node; } } } } }; this.insertHtml=function(_216,el,html){ _216=_216.toLowerCase(); if(el.insertAdjacentHTML){ var tag=el.tagName.toLowerCase(); if(tag=="table"||tag=="tbody"||tag=="tr"){ return _210(tag,_216,el,html); } switch(_216){ case "beforebegin": el.insertAdjacentHTML(_216,html); return el.previousSibling; case "afterbegin": el.insertAdjacentHTML(_216,html); return el.firstChild; case "beforeend": el.insertAdjacentHTML(_216,html); return el.lastChild; case "afterend": el.insertAdjacentHTML(_216,html); return el.nextSibling; } throw "Illegal insertion point -> \""+_216+"\""; } var _21a=el.ownerDocument.createRange(); var frag; switch(_216){ case "beforebegin": _21a.setStartBefore(el); frag=_21a.createContextualFragment(html); el.parentNode.insertBefore(frag,el); return el.previousSibling; case "afterbegin": if(el.firstChild){ _21a.setStartBefore(el.firstChild); }else{ _21a.selectNodeContents(el); _21a.collapse(true); } frag=_21a.createContextualFragment(html); el.insertBefore(frag,el.firstChild); return el.firstChild; case "beforeend": if(el.lastChild){ _21a.setStartAfter(el.lastChild); }else{ _21a.selectNodeContents(el); _21a.collapse(false); } frag=_21a.createContextualFragment(html); el.appendChild(frag); return el.lastChild; case "afterend": _21a.setStartAfter(el); frag=_21a.createContextualFragment(html); el.parentNode.insertBefore(frag,el.nextSibling); return el.nextSibling; } throw "Illegal insertion point -> \""+_216+"\""; }; this.insertBefore=function(el,o,_21e){ el=YAHOO.util.Dom.get(el); var _21f; if(this.useDom){ _21f=_208(o,null); el.parentNode.insertBefore(_21f,el); }else{ var html=_200(o); _21f=this.insertHtml("beforeBegin",el,html); } return _21e?YAHOO.ext.Element.get(_21f,true):_21f; }; this.insertAfter=function(el,o,_223){ el=YAHOO.util.Dom.get(el); var _224; if(this.useDom){ _224=_208(o,null); el.parentNode.insertBefore(_224,el.nextSibling); }else{ var html=_200(o); _224=this.insertHtml("afterEnd",el,html); } return _223?YAHOO.ext.Element.get(_224,true):_224; }; this.append=function(el,o,_228){ el=YAHOO.util.Dom.get(el); var _229; if(this.useDom){ _229=_208(o,null); el.appendChild(_229); }else{ var html=_200(o); _229=this.insertHtml("beforeEnd",el,html); } return _228?YAHOO.ext.Element.get(_229,true):_229; }; this.overwrite=function(el,o,_22d){ el=YAHOO.util.Dom.get(el); el.innerHTML=_200(o); return _22d?YAHOO.ext.Element.get(el.firstChild,true):el.firstChild; }; this.createTemplate=function(o){ var html=_200(o); return new YAHOO.ext.DomHelper.Template(html); }; }(); YAHOO.ext.DomHelper.Template=function(html){ this.html=html; }; YAHOO.ext.DomHelper.Template.prototype={applyTemplate:function(_231){ if(this.compiled){ return this.compiled(_231); } var _232=""; var fn=function(_234,_235){ if(typeof _231[_235]!="undefined"){ return _231[_235]; }else{ return _232; } }; return this.html.replace(this.re,fn); },re:/\{(\w+)\}/g,compile:function(){ var body=["this.compiled = function(values){ return ['"]; body.push(this.html.replace(this.re,"', values['$1'], '")); body.push("'].join('');};"); eval(body.join("")); return this; },insertBefore:function(el,_238,_239){ el=YAHOO.util.Dom.get(el); var _23a=YAHOO.ext.DomHelper.insertHtml("beforeBegin",el,this.applyTemplate(_238)); return _239?YAHOO.ext.Element.get(_23a,true):_23a; },insertAfter:function(el,_23c,_23d){ el=YAHOO.util.Dom.get(el); var _23e=YAHOO.ext.DomHelper.insertHtml("afterEnd",el,this.applyTemplate(_23c)); return _23d?YAHOO.ext.Element.get(_23e,true):_23e; },append:function(el,_240,_241){ el=YAHOO.util.Dom.get(el); var _242=YAHOO.ext.DomHelper.insertHtml("beforeEnd",el,this.applyTemplate(_240)); return _241?YAHOO.ext.Element.get(_242,true):_242; },overwrite:function(el,_244,_245){ el=YAHOO.util.Dom.get(el); el.innerHTML=""; var _246=YAHOO.ext.DomHelper.insertHtml("beforeEnd",el,this.applyTemplate(_244)); return _245?YAHOO.ext.Element.get(_246,true):_246; }}; YAHOO.ext.Template=YAHOO.ext.DomHelper.Template; YAHOO.ext.EventManager=new function(){ var _247; var _248; var _249=false; this.ieDeferSrc=false; var _24a; var _24b; var _24c=function(){ if(!_249){ _249=true; if(_248){ clearInterval(_248); } if(_247){ _247.fire(); } } }; var _24d=function(){ _247=new YAHOO.util.CustomEvent("documentready"); if(document.addEventListener){ YAHOO.util.Event.on(document,"DOMContentLoaded",_24c); }else{ if(YAHOO.ext.util.Browser.isIE){ document.write("<s"+"cript id=\"ie-deferred-loader\" defer=\"defer\" src=\""+(YAHOO.ext.EventManager.ieDeferSrc||YAHOO.ext.SSL_SECURE_URL)+"\"></s"+"cript>"); YAHOO.util.Event.on("ie-deferred-loader","readystatechange",function(){ if(this.readyState=="complete"){ _24c(); } }); }else{ if(YAHOO.ext.util.Browser.isSafari){ _248=setInterval(function(){ var rs=document.readyState; if(rs=="loaded"||rs=="complete"){ _24c(); } },10); } } } YAHOO.util.Event.on(window,"load",_24c); }; this.wrap=function(fn,_250,_251){ var _252=function(e){ YAHOO.ext.EventObject.setEvent(e); fn.call(_251?_250||window:window,YAHOO.ext.EventObject,_250); }; return _252; }; this.addListener=function(_254,_255,fn,_257,_258){ var _259=this.wrap(fn,_257,_258); YAHOO.util.Event.addListener(_254,_255,_259); return _259; }; this.removeListener=function(_25a,_25b,_25c){ return YAHOO.util.Event.removeListener(_25a,_25b,_25c); }; this.on=this.addListener; this.onDocumentReady=function(fn,_25e,_25f){ if(_249){ fn.call(_25f?_25e||window:window,_25e); return; } if(!_247){ _24d(); } _247.subscribe(fn,_25e,_25f); }; this.onWindowResize=function(fn,_261,_262){ if(!_24a){ _24a=new YAHOO.util.CustomEvent("windowresize"); _24b=new YAHOO.ext.util.DelayedTask(function(){ _24a.fireDirect(YAHOO.util.Dom.getViewportWidth(),YAHOO.util.Dom.getViewportHeight()); }); YAHOO.util.Event.on(window,"resize",function(){ _24b.delay(50); }); } _24a.subscribe(fn,_261,_262); },this.removeResizeListener=function(fn,_264){ if(_24a){ _24a.unsubscribe(fn,_264); } }; }; YAHOO.ext.EventObject=new function(){ this.browserEvent=null; this.button=-1; this.shiftKey=false; this.ctrlKey=false; this.altKey=false; this.BACKSPACE=8; this.TAB=9; this.RETURN=13; this.ESC=27; this.SPACE=32; this.PAGEUP=33; this.PAGEDOWN=34; this.END=35; this.HOME=36; this.LEFT=37; this.UP=38; this.RIGHT=39; this.DOWN=40; this.DELETE=46; this.F5=116; this.setEvent=function(e){ if(e==this){ return this; } this.browserEvent=e; if(e){ this.button=e.button; this.shiftKey=e.shiftKey; this.ctrlKey=e.ctrlKey; this.altKey=e.altKey; }else{ this.button=-1; this.shiftKey=false; this.ctrlKey=false; this.altKey=false; } return this; }; this.stopEvent=function(){ if(this.browserEvent){ YAHOO.util.Event.stopEvent(this.browserEvent); } }; this.preventDefault=function(){ if(this.browserEvent){ YAHOO.util.Event.preventDefault(this.browserEvent); } }; this.isNavKeyPress=function(){ return (this.browserEvent.keyCode&&this.browserEvent.keyCode>=33&&this.browserEvent.keyCode<=40); }; this.stopPropagation=function(){ if(this.browserEvent){ YAHOO.util.Event.stopPropagation(this.browserEvent); } }; this.getCharCode=function(){ if(this.browserEvent){ return YAHOO.util.Event.getCharCode(this.browserEvent); } return null; }; this.getKey=function(){ if(this.browserEvent){ return this.browserEvent.keyCode||this.browserEvent.charCode; } return null; }; this.getPageX=function(){ if(this.browserEvent){ return YAHOO.util.Event.getPageX(this.browserEvent); } return null; }; this.getPageY=function(){ if(this.browserEvent){ return YAHOO.util.Event.getPageY(this.browserEvent); } return null; }; this.getTime=function(){ if(this.browserEvent){ return YAHOO.util.Event.getTime(this.browserEvent); } return null; }; this.getXY=function(){ if(this.browserEvent){ return YAHOO.util.Event.getXY(this.browserEvent); } return []; }; this.getTarget=function(){ if(this.browserEvent){ return YAHOO.util.Event.getTarget(this.browserEvent); } return null; }; this.findTarget=function(_266,_267){ if(_267){ _267=_267.toLowerCase(); } if(this.browserEvent){ function isMatch(el){ if(!el){ return false; } if(_266&&!YAHOO.util.Dom.hasClass(el,_266)){ return false; } if(_267&&el.tagName.toLowerCase()!=_267){ return false; } return true; } var t=this.getTarget(); if(!t||isMatch(t)){ return t; } var p=t.parentNode; var b=document.body; while(p&&p!=b){ if(isMatch(p)){ return p; } p=p.parentNode; } } return null; }; this.getRelatedTarget=function(){ if(this.browserEvent){ return YAHOO.util.Event.getRelatedTarget(this.browserEvent); } return null; }; this.getWheelDelta=function(){ var e=this.browserEvent; var _26d=0; if(e.wheelDelta){ _26d=e.wheelDelta/120; if(window.opera){ _26d=-_26d; } }else{ if(e.detail){ _26d=-e.detail/3; } } return _26d; }; this.hasModifier=function(){ return this.ctrlKey||this.altKey||this.shiftKey; }; }();  YAHOO.widget.Logger.enableBrowserConsole(); function compatHasAttribute(_1,_2){ if(_1.hasAttribute){ return _1.hasAttribute(_2); }else{ var _3=_1.attributes; for(i=0,j=_3.length;i<j;i++){ if(_1.attributes[i].nodeName==_2){ return true; } } } return false; } function getFormatCtrlYOffset(_4){ if(_4=="mov"){ return 16; }else{ if(_4=="mp4"){ return 16; }else{ if(_4=="m4v"){ return 16; }else{ if(_4=="m4a"){ return 16; }else{ if(_4=="m4b"){ return 16; }else{ if(_4=="flv"){ return 18; }else{ if(_4=="swf"){ return 0; }else{ if(_4=="youtube-swf"){ return -14; }else{ if(_4=="google-video-swf"){ return 0; }else{ if(_4=="wmv"){ return 45; }else{ if(_4=="unityweb"){ return 0; }else{ return 0; } } } } } } } } } } } } function _detectEmbed(_5,_6){ var _7=false; var _8=""; for(var i=0;i<navigator.mimeTypes.length;i++){ _8+=navigator.mimeTypes[i].type.toLowerCase(); } if(_8.indexOf(_5)!=-1){ if(navigator.mimeTypes[_5].enabledPlugin!==null){ _7=true; } } return _7; } var Objecty=function(){ var _a=_detectEmbed("application/x-mplayer2","Windows Media Player"); YAHOO.log("Windows Media? "+_a); return {autoObjecty:function(){ var _b=$D.getElementsByClassName("ObjectyMe"); if(_b.length){ $D.batch(_b,Objecty.doTheObjecty); } },doTheObjecty:function(_c){ var _d={}; var _e={}; _e=_c.attributes; for(var i=0;i<_e.length;i++){ if(_e[i].specified){ var _10=_e[i].name.toLowerCase(); var _11=_e[i].value; _d[_10]=_11; } } _e=_c.getElementsByTagName("param"); for(var i=0;i<_e.length;i++){ _d[_e.item(i).name]=_e.item(i).value; } var _12=_d.uri; if(_12.substring(0,23)=="http://www.youtube.com/"){ sObjectExt="youtube-swf"; }else{ if(_12.substring(0,47)=="http://video.google.com/googleplayer.swf?docId="){ sObjectExt="google-video-swf"; }else{ sObjectExt=_12.split(".")[_12.split(".").length-1]; } } _d.ext=sObjectExt; var _13=""; _13+="ALL PARAMETERS: "; for(var _14 in _d){ _13+=_14+": "; _13+=_d[_14]+" / "; } YAHOO.log(_13); var _15=_c.parentNode; var _16=document.createElement("div"); $YuiExt.DomHelper.applyStyles(_16,"width:"+_d.width+"px; height:"+(1*_d.height+getFormatCtrlYOffset(_d.ext)+"px")); _16.setAttribute("class","Objecty"); var _17=$D.generateId(_16,"cw"); _c.parentNode.replaceChild(_16,_c); _c=$D.get(_17); switch(sObjectExt){ case "mov": Objecty.doObjectyQuickTime(_c,_17,_d); break; case "mp4": Objecty.doObjectyQuickTime(_c,_17,_d); break; case "m4v": Objecty.doObjectyQuickTime(_c,_17,_d); break; case "m4a": Objecty.doObjectyQuickTime(_c,_17,_d); break; case "m4b": Objecty.doObjectyQuickTime(_c,_17,_d); break; case "wmv": Objecty.doObjectyWinMedia(_c,_17,_d); break; case "wma": Objecty.doObjectyWinMedia(_c,_17,_d); break; case "flv": Objecty.doObjectyFlashFlv(_c,_17,_d); break; case "swf": Objecty.doObjectyFlashSwf(_c,_17,_d); break; case "youtube-swf": Objecty.doObjectyFlashSwf(_c,_17,_d); break; case "google-video-swf": Objecty.doObjectyFlashSwf(_c,_17,_d); break; case "unityweb": Objecty.doObjectyUnity(_c,_17,_d); break; } },doObjectyQuickTime:function(_18,_19,_1a){ var x=parseInt(_1a.width,10); var y=parseInt(_1a.height,10); if(!_1a.poster){ var _1d="<object classid=\"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B\" "; _1d+="codebase=\"http://www.apple.com/qtactivex/qtplugin.cab#version=6,0,2,0\" "; _1d+="width=\""+x+"\" height=\""+(y+getFormatCtrlYOffset(_1a.ext))+"\"> "; _1d+="<param name=\"src\" value=\""+_1a.uri+"\" /> "; if(_1a.autoplay=="true"){ _1d+="<param name=\"autoplay\" value=\"true\" /> "; }else{ _1d+="<param name=\"autoplay\" value=\"false\" /> "; } _1d+="<embed type=\"video/mp4\" src=\""+_1a.uri+"\" width=\""+x+"\" "; _1d+="height=\""+(y+getFormatCtrlYOffset(_1a.ext))+"\" align=\"middle\" bgcolor=\"black\" "; if(_1a.autoplay=="true"){ _1d+="autoplay=\"true\" "; }else{ _1d+="autoplay=\"false\" "; } _1d+="pluginspage=\"http://www.apple.com/quicktime/download/\" "; _1d+="/>"; _1d+="</object>"; _18.innerHTML=_1d; }else{ if(_1a["poster-action"]){ var _1e=eval("({"+_1a["poster-action"]+"})"); }else{ var _1e={}; } if($YuiExt.util.Browser.isMac){ var _1f=sObjectyAbsPath+"res/qt-mac.png"; }else{ var _1f=sObjectyAbsPath+"res/qt-win.png"; } YAHOO.ext.DomHelper.append(_18,{tag:"div",style:"width: 100%; height: 100%; position: relative; background: url('"+_1f+"') 0 100%",children:[{tag:"img",src:_1a.poster,style:"position: absolute; top:0; left:0"},{tag:"div",style:"width: 56px; height: 16px; position: absolute; bottom:0; right: 0; background: url('"+_1f+"') right bottom"},{tag:"div",style:"width: 96px; height: 96px; position: absolute; left: 50%; top: 50%",children:[{tag:"img",src:sObjectyAbsPath+"res/playIcon.png",style:"width: 96px; height: 96px; position: absolute; left: -50%; top: -50%; opacity: 0.75; FILTER: Alpha(Opacity=75)"}]}]}); YAHOO.util.Event.addListener(_19,"mouseover",function(){ $YuiExt.DomHelper.applyStyles(_19,"cursor:pointer"); },true); YAHOO.util.Event.addListener(_19,"mouseout",function(){ $YuiExt.DomHelper.applyStyles(_19,"cursor:default"); },true); if(_1e.type=="lightbox"){ YAHOO.util.Event.addListener(_19,"click",Objecty.qtPosterLightboxCb,{oElement:_18,sElementId:_19,oElementParams:_1a},true); }else{ YAHOO.util.Event.addListener(_19,"click",Objecty.qtPosterClickCallback,{oElement:_18,sElementId:_19,oElementParams:_1a},true); } } },qtPosterClickCallback:function(e,_21,_22,_23){ YAHOO.util.Event.stopEvent(e); YAHOO.util.Event.removeListener(this.sElementId,"click"); YAHOO.util.Event.removeListener(this.sElementId,"mouseover"); YAHOO.util.Event.removeListener(this.sElementId,"mouseout"); $YuiExt.DomHelper.applyStyles(this.sElementId,"cursor:pointer"); delete this.oElementParams.poster; this.oElementParams.autoplay="true"; Objecty.doObjectyQuickTime(this.oElement,this.sElementId,this.oElementParams); },qtPosterLightboxCb:function(e,_25,_26,_27){ YAHOO.util.Event.stopEvent(e); delete this.oElementParams.poster; var x=parseInt(this.oElementParams.width,10); var y=parseInt(this.oElementParams.height,10); var xV=$D.getViewportWidth(); var yV=$D.getViewportHeight(); var _2c=32; var _2d=(document.documentElement.scrollTop+"px"); YAHOO.ext.DomHelper.append(document.getElementsByTagName("body")[0],{tag:"iframe",id:"lbIframe",style:"display:none; position:absolute; left:0px; width:"+xV+"px; height:"+yV+"px",src:(sObjectyAbsPath+"res/blank.html"),frameborder:"0",scrolling:"no"}); $D.setStyle($("lbIframe"),"top",_2d); $D.setStyle($("lbIframe"),"z-index","996"); $D.setStyle($("lbIframe"),"filter","progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)"); $D.setStyle($("lbIframe"),"display","block"); var _2e="position:absolute; width:"+xV+"px; height:"+yV+"px; left:0px; opacity:0.7; filter:alpha(opacity=70); background: #000"; var _2f="position:absolute; z-index 998; width:"+(x+(_2c*2))+"px; height:"+(y+(_2c*2)+getFormatHeight["mp4"])+"px; top:"+Math.round((yV-y-(_2c*2))/2)+"px; left:"+Math.round((xV-x-(_2c*2))/2)+"px; background: #fff"; var _30="position:absolute; z-index 999; width:"+x+"px; height:"+(y+getFormatHeight["mp4"])+"px; top:"+_2c+"px; left:"+_2c+"px; background: #000"; YAHOO.ext.DomHelper.append(document.getElementsByTagName("body")[0],{tag:"div",id:"lbOverlay",style:_2e,children:[{tag:"div",id:"lbFrame",style:_2f,children:[{tag:"div",id:"lbMovie",style:_30}]}]}); $D.setStyle($("lbOverlay"),"top",_2d); $D.setStyle($("lbOverlay"),"z-index","997"); $D.setStyle($("lbFrame"),"z-index","998"); $("lbMovie").innerHTML=Objecty.getObjectHtml(this.oElementParams); $E.on($("lbOverlay"),"click",function(){ $YuiExt.DomHelper.overwrite($("lbOverlay"),{tag:"div"}); $("lbOverlay").parentNode.removeChild($("lbOverlay")); $("lbIframe").parentNode.removeChild($("lbIframe")); }); },getObjectHtml:function(_31){ if(_31.ext=="mp4"||_31.ext=="mov"){ var x=parseInt(_31.width,10); var y=parseInt(_31.height,10); if(!_31.poster){ var _34="<object classid=\"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B\" "; _34+="codebase=\"http://www.apple.com/qtactivex/qtplugin.cab#version=6,0,2,0\" "; _34+="width=\""+x+"\" height=\""+(y+16)+"\"> "; _34+="<param name=\"src\" value=\""+_31.uri+"\" /> "; if(_31.autoplay=="true"){ _34+="<param name=\"autoplay\" value=\"true\" /> "; }else{ _34+="<param name=\"autoplay\" value=\"false\" /> "; } _34+="<embed type=\"video/mp4\" src=\""+_31.uri+"\" width=\""+x+"\" "; _34+="height=\""+(y+16)+"\" align=\"middle\" bgcolor=\"black\" "; if(_31.autoplay=="true"){ _34+="autoplay=\"true\" "; }else{ _34+="autoplay=\"false\" "; } _34+="pluginspage=\"http://www.apple.com/quicktime/download/\" "; _34+="/>"; _34+="</object>"; return _34; }else{ if(_31["poster-action"]){ var _35=eval("("+_31["poster-action"]+")"); }else{ var _35={}; } YAHOO.ext.DomHelper.append(oElement,{tag:"div",style:"width: 480px; height: 216px; position: relative; background: url('/objecty-debug/objecty/res/movieMiddle.png') 0 100% repeat-x",children:[{tag:"img",src:"300-poster.jpg",style:"position: absolute; top:0; left:0"},{tag:"img",src:"/objecty-debug/objecty/res/movieLeft.png",style:"position: absolute; bottom:0; left:0"},{tag:"img",src:"/objecty-debug/objecty/res/movieRight.png",style:"position: absolute; bottom:0; right:0"},{tag:"div",style:"width: 96px; height: 96px; position: absolute; left: 50%; top: 50%",children:[{tag:"img",src:"/objecty-debug/objecty/res/playIcon.png",style:"width: 96px; height: 96px; position: absolute; left: -50%; top: -50%; opacity: 0.75; FILTER: Alpha(Opacity=75)"}]}]}); YAHOO.util.Event.addListener(sElementId,"mouseover",function(){ $YuiExt.DomHelper.applyStyles(sElementId,"cursor:pointer"); },true); YAHOO.util.Event.addListener(sElementId,"mouseout",function(){ $YuiExt.DomHelper.applyStyles(sElementId,"cursor:default"); },true); if(_35.type=="lightbox"){ YAHOO.util.Event.addListener(sElementId,"click",Objecty.qtPosterLightboxCb,{oElement:oElement,sElementId:sElementId,oElementParams:_31},true); }else{ YAHOO.util.Event.addListener(sElementId,"click",Objecty.qtPosterClickCallback,{oElement:oElement,sElementId:sElementId,oElementParams:_31},true); } } }else{ if(oElement.ext=="flv"){ } } },doObjectyFlashFlv:function(_36,_37,_38){ var x=parseInt(_38.width,10); var y=parseInt(_38.height,10); var url=_38.uri; var _3c; if(!url.match(/^(http:\/\/|rtsp:\/\/).+/)){ _3c=(location.href.match(/^(.+)\/.*$/)[1]+"/"+url); }else{ _3c=url; } if(!_38.poster){ var _3d="<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"\r"; _3d+="codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0\"\r"; _3d+="width=\""+x+"\" height=\""+(y+getFormatCtrlYOffset(_38.ext))+"\" id=\"myMovieName\">\r"; _3d+="<param name=\"movie\" value=\""+sObjectyAbsPath+"flvplayer.swf?click=nothing.png\" />\r"; _3d+="<param name=\"quality\" value=\"high\" />\r"; _3d+="<param name=\"bgcolor\" value=\"#fff\" />\r"; _3d+="<param name=\"wmode\" value=\"transparent\" />\r"; _3d+="<param name=\"flashvars\" value=\"file="+_3c+"&showdigits=false&bufferlength=10"; if(_38.autoplay=="true"){ _3d+="&autoStart=true"; } _3d+="\" />\r"; _3d+="<embed src=\""+sObjectyAbsPath+"flvplayer.swf?click=nothing.png\" wmode=\"transparent\" \r"; _3d+="quality=\"high\" bgcolor=\"#fff\" width=\""+x+"\" height=\""+(y+getFormatCtrlYOffset(_38.ext))+"\" \r"; _3d+="name=\"myMovieName\" align=\"\" type=\"application/x-shockwave-flash\" \r"; _3d+="pluginspage=\"http://www.macromedia.com/go/getflashplayer\" \r"; _3d+="flashvars=\"file="+_3c+"&showdigits=false&bufferlength=10"; if(_38.autoplay=="true"){ _3d+="&autoStart=true"; } _3d+="\">\r"; _3d+="</embed>\r"; _3d+="</object>"; _36.innerHTML=_3d; }else{ var _3e=sObjectyAbsPath+"res/ctrl-flv.png"; YAHOO.ext.DomHelper.append(_36,{tag:"div",style:"width: 100%; height: 100%; position: relative; background: url('"+_3e+"') 0 100%",children:[{tag:"img",src:_38.poster,style:"position: absolute; top:0; left:0"},{tag:"div",style:"width: 51px; height: 18px; position: absolute; bottom:0; right: 0; background: url('"+_3e+"') right bottom"},{tag:"div",style:"width: 96px; height: 96px; position: absolute; left: 50%; top: 50%",children:[{tag:"img",src:sObjectyAbsPath+"res/playIcon.png",style:"width: 96px; height: 96px; position: absolute; left: -50%; top: -50%; opacity: 0.75; FILTER: Alpha(Opacity=75)"}]}]}); YAHOO.util.Event.addListener(_37,"click",Objecty.flvPosterClickCb,{oElement:_36,sElementId:_37,oElementParams:_38},true); YAHOO.util.Event.addListener(_37,"mouseover",function(){ $YuiExt.DomHelper.applyStyles(_37,"cursor:pointer"); },true); YAHOO.util.Event.addListener(_37,"mouseout",function(){ $YuiExt.DomHelper.applyStyles(_37,"cursor:default"); },true); } },flvPosterClickCb:function(e,_40,_41,_42){ YAHOO.util.Event.stopEvent(e); YAHOO.util.Event.removeListener(this.sElementId,"click"); YAHOO.util.Event.removeListener(this.sElementId,"mouseover"); YAHOO.util.Event.removeListener(this.sElementId,"mouseout"); $YuiExt.DomHelper.applyStyles(this.sElementId,"cursor:pointer"); delete this.oElementParams.poster; this.oElementParams.autoplay="true"; Objecty.doObjectyFlashFlv(this.oElement,this.sElementId,this.oElementParams); },doObjectyFlashSwf:function(_43,_44,_45){ var x=parseInt(_45.width,10); var y=parseInt(_45.height,10); y+=getFormatCtrlYOffset(_45.ext); var _48="<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"\r"; _48+="\tcodebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0\"\r"; _48+="\twidth=\""+x+"\" height=\""+y+"\" id=\"myMovieName\">\r"; _48+="\t<param name=\"movie\" value=\""+_45.uri; if(_45.ext=="youtube-swf"){ if(_45.autoplay=="true"){ _48+="&autoplay=1"; } } _48+="\" />\r"; _48+="\t<param name=\"quality\" value=\"high\" />\r"; _48+="\t<param name=\"wmode\" value=\"transparent\" />\r"; _48+="\t<param name=\"bgcolor\" value=\"#fff\" />\r"; _48+="\t<embed src=\""+_45.uri+"\" wmode=\"transparent\"\r"; _48+="\t\tquality=\"high\" bgcolor=\"#fff\" width=\""+x+"\" height=\""+y+"\"\r"; _48+="\t\tname=\"myMovieName\" align=\"\" type=\"application/x-shockwave-flash\"\r"; _48+="\t\tpluginspage=\"http://www.macromedia.com/go/getflashplayer\"\r"; _48+="\t</embed>\r"; _48+="</object>"; _43.innerHTML=_48; },doObjectyMp3:function(_49,_4a,_4b){ sObjectUri=_49.getAttribute("uri"); if(_49.getAttribute("width")){ var _4c=_49.getAttribute("width"); } if(_49.getAttribute("height")){ var _4d=_49.getAttribute("height"); } var _4e="<embed src=\"/objecty/mediaplayer.swf\" "; _4e+="width=\""+_4c+"\" "; _4e+="height=\""+_4d+"\" "; _4e+="bgcolor=\"#FFFFFF\" "; _4e+="type=\"application/x-shockwave-flash\" "; _4e+="pluginspage=\"http://www.macromedia.com/go/getflashplayer\" "; _4e+="/>"; _49.innerHTML=_4e; },doObjectyWinMedia:function(_4f,_50,_51){ var x=parseInt(_51.width,10); var y=parseInt(_51.height,10); if(!_51.poster){ var _54="<object width=\""+x+"\" height=\""+(y+getFormatCtrlYOffset(_51.ext))+"\" classid=\"CLSID:22D6F312-B0F6-11D0-94AB-0080C74C7E95\" "; _54+="codebase=\"http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=6,4,7,1112\" "; _54+="standby=\"Loading Microsoft Windows Media Player components...\" "; _54+="type=\"application/x-oleobject\">"; _54+="<param name=\"FileName\" value=\""+_51.uri+"\">"; _54+="<param name=\"ShowControls\" value=\"1\">"; _54+="<param name=\"AutoSize\" value=\"1\">"; _54+="<param name=\"uiMode\" value=\"mini\">"; if(_51.autoplay=="true"||_51.autostart=="true"){ _54+="<param name=\"autoStart\" value=\"true\"> "; }else{ _54+="<param name=\"autoStart\" value=\"false\"> "; } _54+="<embed type=\"application/x-mplayer2\" "; _54+="pluginspage=\"http://www.microsoft.com/windows/windowsmedia/download/AllDownloads.aspx/\" "; _54+="filename=\""+_51.uri+"\" "; _54+="src=\""+_51.uri+"\" "; _54+="name=MediaPlayer "; if(_51.autoplay=="true"||_51.autostart=="true"){ _54+="autostart=\"true\" "; }else{ _54+="autostart=\"false\" "; } _54+="showcontrols=1 "; _54+="width=\""+x+"\" height=\""+(y+getFormatCtrlYOffset(_51.ext))+"\">"; _54+="</embed>"; _54+="</object>"; _4f.innerHTML=_54; }else{ if(_51["poster-action"]){ var _55=eval("("+_51["poster-action"]+")"); }else{ var _55={}; } if($YuiExt.util.Browser.isMac){ var _56=sObjectyAbsPath+"res/crtl-wm-mac.png"; var _57=61; }else{ var _56=sObjectyAbsPath+"res/crtl-wm-win.png"; var _57=61; } YAHOO.ext.DomHelper.append(_4f,{tag:"div",style:"width: 100%; height: 100%; position: relative; background: url('"+_56+"') 0 100%",children:[{tag:"img",src:_51.poster,style:"position: absolute; top:0; left:0"},{tag:"div",style:"width:"+_57+"px; height:"+getFormatCtrlYOffset(_51.ext)+"px; position: absolute; bottom:0; right: 0; background: url('"+_56+"') right bottom"},{tag:"div",style:"width: 96px; height: 96px; position: absolute; left: 50%; top:"+Math.round(y/2)+"px",children:[{tag:"img",src:sObjectyAbsPath+"res/playIcon.png",style:"width: 96px; height: 96px; position: absolute; left: -50%; top: -50%; opacity: 0.75; FILTER: Alpha(Opacity=75)"}]}]}); if(_55.type=="lightbox"){ YAHOO.util.Event.addListener(_50,"click",Objecty.wmPosterLightboxCb,{oElement:_4f,sElementId:_50,oElementParams:_51},true); }else{ YAHOO.util.Event.addListener(_50,"click",Objecty.wmPosterClickCb,{oElement:_4f,sElementId:_50,oElementParams:_51},true); } } },wmPosterClickCb:function(e,_59,_5a,_5b){ YAHOO.util.Event.stopEvent(e); YAHOO.util.Event.removeListener(this.sElementId,"click"); YAHOO.util.Event.removeListener(this.sElementId,"mouseover"); YAHOO.util.Event.removeListener(this.sElementId,"mouseout"); $YuiExt.DomHelper.applyStyles(this.sElementId,"cursor:pointer"); delete this.oElementParams.poster; this.oElementParams.autostart="true"; Objecty.doObjectyWinMedia(this.oElement,this.sElementId,this.oElementParams); },doObjectyUnity:function(_5c,_5d,_5e){ var x=parseInt(_5e.width,10); var y=parseInt(_5e.height,10); var _61="<object classid=\"clsid:36D04559-44B7-45E0-BA81-E1508FAB359F\"\r"; _61+="\tcodebase=\"http://otee.dk/download_webplayer/UnityWebPlayer.cab\"\r"; _61+="\twidth=\""+x+"\" height=\""+y+"\" id=\"UnityObject\">\r"; _61+="\t<param name=\"src\" value=\""+_5e.uri+"\" />\r"; _61+="\t<embed src=\""+_5e.uri+"\"\r"; _61+="\t\twidth=\""+x+"\" height=\""+y+"\"\r"; _61+="\t\ttype=\"application/x-unity\"\r"; _61+="\t\tpluginspage=\"http://www.otee.dk/getunityplayer.html\"\r"; _61+="\t\tid=\"UnityEmbed\""; _61+="\t</embed>\r"; _61+="\t<noembed>\r"; _61+="\t\t<div>The browser does not have Unity Web Player installed.<a href=\"http://otee.dk/getunityplayer.html\">Get Unity Web Player</a></div>\r"; _61+="\t</noembed>\r"; _61+="</object>"; _5c.innerHTML=_61; }}; }(); $E=YAHOO.util.Event; $D=YAHOO.util.Dom; $=$D.get; $YuiExt=YAHOO.ext; var kDefaultsQuickTime={width:320,height:240,autoplay:false}; var sObjectyAbsPath; var oScriptTags=document.getElementsByTagName("script"); for(var i=0;i<oScriptTags.length;i++){ if(oScriptTags[i].src.match("objecty.js$")){ sObjectyAbsPath=(oScriptTags[i].src.match(/^(.+)\/.*$/)[1]+"/"); } } YAHOO.ext.EventManager.onDocumentReady(Objecty.autoObjecty);  
